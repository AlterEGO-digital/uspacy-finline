{"version":3,"file":"static/js/3982.8e071e05.chunk.js","mappings":"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","sources":["webpack://container/./src/static/images/copy.svg","webpack://container/./src/hooks/usePaymentSourceData.ts","webpack://container/./src/store/reducers/payment/local-data.ts","webpack://container/./src/components/ui/DealNotFoundView.tsx","webpack://container/./src/components/ui/PaymentAccountsNotFoundView.tsx","webpack://container/./src/components/ui/PaymentFormSkeleton.tsx","webpack://container/./src/static/images/copy-check.svg","webpack://container/./src/components/ui/PaymnetLinkGenerationSuccess.tsx","webpack://container/./src/components/ui/RenderOption.tsx","webpack://container/./src/components/PaymentForm/PaymentAmountField.tsx","webpack://container/./src/components/PaymentForm/helpers/input.ts","webpack://container/./src/components/PaymentForm/types.ts","webpack://container/./src/components/PaymentForm/index.tsx","webpack://container/./src/components/PaymentForm/helpers/styles.ts","webpack://container/./src/components/PaymentForm/helpers/labels.ts","webpack://container/./src/hooks/usePaymentLink.ts","webpack://container/./src/components/PaymentForm/helpers/formState.ts","webpack://container/./src/store/reducers/app/selectors.ts","webpack://container/./src/hooks/useDeal.ts","webpack://container/./src/context/AppProvider/index.tsx"],"sourcesContent":["var _rect, _path;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nconst SvgCopy = props => /*#__PURE__*/React.createElement(\"svg\", _extends({\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"1em\",\n  height: \"1em\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  strokeWidth: 2,\n  viewBox: \"0 0 24 24\"\n}, props), _rect || (_rect = /*#__PURE__*/React.createElement(\"rect\", {\n  width: 14,\n  height: 14,\n  x: 8,\n  y: 8,\n  rx: 2,\n  ry: 2\n})), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2\"\n})));\nexport default SvgCopy;","import { useMemo } from 'react';\nimport { getCurrencyList, getRecieptDeliveryList } from '../store/reducers/payment/local-data';\nimport { useDeal } from './useDeal';\nimport { usePaymentAccountsList } from './usePaymentAccountsList';\nexport var usePaymentSourceData = function () {\n    var _a = usePaymentAccountsList(), data = _a.data, isLoading = _a.isLoading, isError = _a.isError, error = _a.error, refetch = _a.refetch;\n    var deal = useDeal().deal;\n    var currencies = getCurrencyList();\n    var reciepts = getRecieptDeliveryList();\n    var emails = useMemo(function () {\n        var _a, _b;\n        if (!Array.isArray(deal === null || deal === void 0 ? void 0 : deal.contacts))\n            return [];\n        return ((_b = (_a = deal === null || deal === void 0 ? void 0 : deal.contacts) === null || _a === void 0 ? void 0 : _a.map(function (contact) {\n            if (!Array.isArray(contact === null || contact === void 0 ? void 0 : contact.email))\n                return [];\n            return contact.email.map(function (email) { var _a, _b, _c; return ({ id: (_a = email === null || email === void 0 ? void 0 : email.value) !== null && _a !== void 0 ? _a : '', label: (_b = email === null || email === void 0 ? void 0 : email.value) !== null && _b !== void 0 ? _b : '', owner: (_c = contact === null || contact === void 0 ? void 0 : contact.title) !== null && _c !== void 0 ? _c : '' }); });\n        }).flat().filter(function (email) { return !!(email === null || email === void 0 ? void 0 : email.label); })) !== null && _b !== void 0 ? _b : []);\n    }, [deal]);\n    var phones = useMemo(function () {\n        var _a, _b;\n        if (!Array.isArray(deal === null || deal === void 0 ? void 0 : deal.contacts))\n            return [];\n        return ((_b = (_a = deal === null || deal === void 0 ? void 0 : deal.contacts) === null || _a === void 0 ? void 0 : _a.map(function (contact) {\n            if (!Array.isArray(contact.phone))\n                return [];\n            return contact.phone.map(function (phone) { var _a, _b, _c; return ({ id: (_a = phone === null || phone === void 0 ? void 0 : phone.value) !== null && _a !== void 0 ? _a : '', label: (_b = phone === null || phone === void 0 ? void 0 : phone.value) !== null && _b !== void 0 ? _b : '', owner: (_c = contact === null || contact === void 0 ? void 0 : contact.title) !== null && _c !== void 0 ? _c : '' }); });\n        }).flat().filter(function (phone) { return !!phone.label; })) !== null && _b !== void 0 ? _b : []);\n    }, [deal]);\n    return {\n        accounts: data,\n        currencies: currencies,\n        recieptDeliveryTransports: reciepts,\n        emails: emails,\n        phones: phones,\n        isLoading: isLoading,\n        isError: isError,\n        error: error,\n        refetchAccounts: refetch,\n    };\n};\n","var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { isDev, isStage } from '../../../const';\nimport { PaymentCurrencyEnum } from '../../../models/payment';\nexport var getCurrencyList = function () {\n    var currencies = ['UAH', 'USD', 'EUR'];\n    var testCurrency = PaymentCurrencyEnum.XTS;\n    if (isDev || isStage) {\n        return __spreadArray([testCurrency], currencies, true);\n    }\n    return currencies;\n};\nexport var getRecieptDeliveryList = function () {\n    return ['None', 'Email', 'SMS', 'Viber'];\n};\n","import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Stack, Typography } from '@mui/material';\nimport { useTranslation } from 'react-i18next';\nexport var DealNotFoundView = function () {\n    var t = useTranslation('payment').t;\n    return (_jsx(Stack, { sx: { height: '400px', alignItems: 'center', justifyContent: 'center', gap: 2, px: 1 }, children: _jsx(Typography, { variant: \"h3\", children: t('payment:deal.notFound') }) }));\n};\n","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Stack, Typography } from '@mui/material';\nimport { useTranslation } from 'react-i18next';\nexport var PaymentAccountsNotFoundView = function () {\n    var t = useTranslation('payment').t;\n    return (_jsxs(Stack, { sx: { height: '400px', alignItems: 'center', justifyContent: 'center', gap: 2, px: 1 }, children: [_jsx(Typography, { variant: \"h1\", children: t('payment:views.empty.title') }), _jsx(Typography, { variant: \"body1\", sx: { maxWidth: '65ch', textAlign: 'center' }, children: t('payment:views.empty.reason') })] }));\n};\n","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Grid, Skeleton, Stack } from '@mui/material';\nexport var PaymentFormSkeleton = function () {\n    return (_jsxs(Stack, { height: \"100%\", sx: { pt: 1, width: '536px', mx: 'auto' }, children: [_jsx(Grid, { container: true, spacing: 1, children: [12, 8, 4, 6, 6, 12].map(function (xs, index) { return (_jsx(Grid, { item: true, xs: xs, children: _jsxs(Stack, { spacing: 0.5, children: [_jsx(Skeleton, { variant: \"text\", animation: \"wave\", sx: { height: 16, width: '30%' } }), _jsx(Skeleton, { variant: \"rounded\", animation: \"wave\", sx: { height: 56, width: '100%', borderRadius: 1 } })] }) }, index)); }) }), _jsx(Stack, { pt: 3, width: \"100%\", children: _jsx(Skeleton, { variant: \"rounded\", animation: \"wave\", sx: { height: 40, width: '100%', borderRadius: 1 } }) })] }));\n};\n","var _path, _rect, _path2;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nconst SvgCopyCheck = props => /*#__PURE__*/React.createElement(\"svg\", _extends({\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"1em\",\n  height: \"1em\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  strokeWidth: 2,\n  viewBox: \"0 0 24 24\"\n}, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m12 15 2 2 4-4\"\n})), _rect || (_rect = /*#__PURE__*/React.createElement(\"rect\", {\n  width: 14,\n  height: 14,\n  x: 8,\n  y: 8,\n  rx: 2,\n  ry: 2\n})), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2\"\n})));\nexport default SvgCopyCheck;","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Box, Button, Divider, Stack, Typography } from '@mui/material';\nimport { useEffect, useRef, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useNotification } from '../../hooks/useNotification';\nimport CopyIcon from '../../static/images/copy.svg';\nimport CopyCheckIcon from '../../static/images/copy-check.svg';\nimport { useAppDispatch } from '../../store';\nimport { paymentActions } from '../../store/reducers/payment';\nimport { BrandButton } from './BrandButton';\nexport var PaymnetLinkGenerationSuccess = function (_a) {\n    var onClick = _a.onClick, link = _a.link;\n    var t = useTranslation(['translation', 'payment']).t;\n    var _b = useState(false), copied = _b[0], setCopied = _b[1];\n    var _c = useNotification(), errorNotification = _c.errorNotification, successNotification = _c.successNotification;\n    var timeoutRef = useRef(null);\n    var dispatch = useAppDispatch();\n    var copyToClipboard = function () { return __awaiter(void 0, void 0, void 0, function () {\n        var _a;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    _b.trys.push([0, 2, , 3]);\n                    return [4 /*yield*/, navigator.clipboard.writeText(link)];\n                case 1:\n                    _b.sent();\n                    setCopied(true);\n                    successNotification(t('translation:common.copiedToClipboard'));\n                    timeoutRef.current = setTimeout(function () { return setCopied(false); }, 2000);\n                    return [3 /*break*/, 3];\n                case 2:\n                    _a = _b.sent();\n                    errorNotification(t('translation:common.errors.copyToClipboard'));\n                    return [3 /*break*/, 3];\n                case 3: return [2 /*return*/];\n            }\n        });\n    }); };\n    useEffect(function () {\n        return function () {\n            dispatch(paymentActions.resetGeneratingRequest());\n            if (timeoutRef.current) {\n                clearTimeout(timeoutRef.current);\n            }\n        };\n    }, []);\n    var handleClick = function (e) {\n        dispatch(paymentActions.resetGeneratingRequest());\n        e.stopPropagation();\n        onClick();\n    };\n    return (_jsxs(Stack, { sx: { height: '400px', gap: 3, pt: 2, alignItems: 'center', justifyContent: 'center', width: '536px', mx: 'auto' }, children: [_jsx(Typography, { component: \"h2\", fontSize: \"2rem\", textAlign: \"center\", fontWeight: \"600\", color: \"success.main\", children: t('payment:views.success.title') }), _jsxs(Box, { sx: { p: 2, width: '100%', maxWidth: '400px', textAlign: 'center' }, children: [_jsxs(Stack, { gap: 2, children: [_jsx(Typography, { component: \"p\", fontWeight: \"600\", color: \"text.secondary\", children: t('payment:views.success.reason') }), _jsx(Typography, { component: \"a\", href: link, target: \"_blank\", rel: \"noopeneer noreferrer\", color: \"text.secondary\", sx: { textDecoration: 'none' }, children: link }), _jsx(BrandButton, { disabled: copied, endIcon: copied ? _jsx(CopyCheckIcon, {}) : _jsx(CopyIcon, {}), sx: { mx: 'auto', width: '90%', color: '#fff', '&:disabled': { color: '#fff', opacity: '0.5' } }, onClick: copyToClipboard, children: t('translation:common.buttons.copy') })] }), _jsxs(Stack, { justifyContent: \"center\", sx: { position: 'relative', mt: 1, height: '40px', maxWidth: '80%', mx: 'auto' }, children: [_jsx(Typography, { component: \"span\", color: \"text.secondary\", sx: {\n                                    p: 1,\n                                    position: 'absolute',\n                                    top: '50%',\n                                    left: '50%',\n                                    transform: 'translate(-50%, -50%)',\n                                    backgroundColor: '#fff',\n                                    zIndex: 1,\n                                }, children: t('translation:common.or') }), _jsx(Divider, {})] }), _jsxs(Stack, { gap: 2, sx: { mt: 1 }, children: [_jsx(Typography, { component: \"p\", color: \"text.secondary\", sx: { maxWidth: '65ch', textAlign: 'center', mx: 'auto' }, children: t('payment:views.success.description') }), _jsx(Button, { onClick: handleClick, variant: \"outlined\", sx: {\n                                    mx: 'auto',\n                                    width: 'fit-content',\n                                    color: 'background.brand',\n                                    borderColor: 'background.brand',\n                                    '&:hover': {\n                                        borderColor: 'background.brand',\n                                    },\n                                }, children: t('payment:views.success.back') })] })] })] }));\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Box } from '@mui/material';\nvar RenderOption = function (props, option, _a) {\n    var inputValue = _a.inputValue;\n    return (_jsx(Box, __assign({ component: \"li\" }, props, { sx: __assign({ textAlign: 'left', display: 'flex', flexDirection: 'column', alignItems: 'flex-start', width: '100%', p: 1 }, (inputValue === option.id && { backgroundColor: 'action.selected', fontWeight: 'bold' })), children: _jsxs(Box, { width: \"100%\", sx: {}, children: [_jsx(Box, { component: \"div\", sx: { font: 'medium' }, children: option.label }), _jsx(Box, { component: \"div\", color: \"text.secondary\", sx: { fontSize: '12px' }, children: option.owner })] }) })));\n};\nexport var RenderEmailOption = RenderOption;\nexport var RenderPhoneOption = RenderOption;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { FormControl, FormHelperText } from '@mui/material';\nimport { useMemo } from 'react';\nimport { Controller, useFormContext } from 'react-hook-form';\nimport { useTranslation } from 'react-i18next';\nimport { TextInput, TextInputLabel } from '../ui/Form';\nimport { isTestCurrency, VALID_TEST_PAYMENT_AMOUNT } from './helpers/currency';\nimport { createDigitsHandler } from './helpers/input';\nexport var PaymentAmountField = function (_a) {\n    var getError = _a.getError, getTranslationKey = _a.getTranslationKey, isDisabled = _a.isDisabled;\n    var _b = useFormContext(), control = _b.control, watch = _b.watch;\n    var t = useTranslation(['payment', 'validation']).t;\n    var currency = watch('currency');\n    var isReadonly = isTestCurrency(currency);\n    var allowDigitsOnly = useMemo(function () { return createDigitsHandler({ maxDecimal: 2 }); }, []);\n    return (_jsx(Controller, { name: \"amount\", control: control, render: function (_a) {\n            var field = _a.field;\n            var error = getError(field.name);\n            return (_jsxs(FormControl, { fullWidth: true, error: !!error, disabled: isReadonly || isDisabled, children: [_jsx(TextInputLabel, { children: t(getTranslationKey('labels.amount')) }), _jsx(TextInput, __assign({}, field, { onKeyDown: allowDigitsOnly, error: !!error, helperText: t(error), value: isReadonly ? VALID_TEST_PAYMENT_AMOUNT.toFixed(2) : field.value, placeholder: t(getTranslationKey('placeholders.amount')), disabled: isReadonly || isDisabled })), isReadonly && _jsx(FormHelperText, { children: t(getTranslationKey('helperText.testPayment')) })] }));\n        } }));\n};\n","export var createDigitsHandler = function (_a) {\n    var maxDecimal = _a.maxDecimal;\n    return function (event) {\n        var _a;\n        var allowedKeys = ['Backspace', 'ArrowLeft', 'ArrowRight', 'Delete', 'Tab'];\n        if (allowedKeys.includes(event.key))\n            return;\n        var input = event.target;\n        var currentValue = input.value;\n        var key = event.key;\n        var isDigit = /^\\d$/.test(key);\n        var isDotOrComma = key === '.' || key === ',';\n        var separator = currentValue.includes('.') ? '.' : currentValue.includes(',') ? ',' : null;\n        if (isDigit) {\n            if (separator) {\n                var separatorIndex = currentValue.indexOf(separator);\n                var cursorPos = (_a = input.selectionStart) !== null && _a !== void 0 ? _a : 0;\n                // Check if the cursor is after the separator\n                if (cursorPos > separatorIndex) {\n                    var decimals = currentValue.split(separator)[1] || '';\n                    if (decimals.length >= maxDecimal) {\n                        event.preventDefault();\n                        return;\n                    }\n                }\n            }\n            return;\n        }\n        if (isDotOrComma && !separator) {\n            return;\n        }\n        event.preventDefault();\n    };\n};\n","import * as v from 'valibot';\nimport { PaymentCurrencyEnum, RecieptDeliveryEnum } from '../../models/payment';\nvar t = function (key) { return key; };\nvar getKey = function (path) { return \"validation:common.\".concat(path); };\nvar PaymentAccountSchema = v.pipe(v.object({ id: v.union([v.number(), v.string()]), label: v.string() }), v.check(function (input) { return input !== null; }, t(getKey('predefined'))));\nvar EmailSchema = v.union([\n    v.pipe(v.string(t(getKey('invalidString'))), v.trim(), v.nonEmpty(t(getKey('required'))), v.email(t(getKey('invalidEmail')))),\n    v.object({\n        id: v.string(t(getKey('invalidString'))),\n        label: v.string(t(getKey('invalidString'))),\n        owner: v.string(),\n    }),\n], t(getKey('required')));\nvar PhoneSchema = v.union([\n    v.pipe(v.string(t(getKey('invalidString'))), v.trim(), v.nonEmpty(t(getKey('required')))),\n    v.object({\n        id: v.string(t(getKey('invalidString'))),\n        label: v.string(t(getKey('invalidString'))),\n        owner: v.string(),\n    }),\n], t(getKey('required')));\nexport var GeneratePaymentFormSchema = v.object({\n    description: v.pipe(v.string(t(getKey('invalidString'))), v.trim(), v.nonEmpty(t(getKey('required')))),\n    amount: v.pipe(v.string(t(getKey('invalidString'))), v.trim(), v.nonEmpty(t(getKey('required'))), v.check(function (input) { return !isNaN(Number(input)); }, function () { return t(getKey('invalidNumber')); })),\n    currency: v.enum(PaymentCurrencyEnum),\n    email: EmailSchema,\n    phone: PhoneSchema,\n    paymentAccount: PaymentAccountSchema,\n    receiptDelivery: v.enum(RecieptDeliveryEnum),\n});\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { valibotResolver } from '@hookform/resolvers/valibot';\nimport { Box, FormControl, FormHelperText, Grid, MenuItem, Stack } from '@mui/material';\nimport { Suspense, useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { Controller, FormProvider, useForm } from 'react-hook-form';\nimport { useTranslation } from 'react-i18next';\nimport { getErrorMessage } from '../../helpers/errors';\nimport { useDeal } from '../../hooks/useDeal';\nimport { useNotification } from '../../hooks/useNotification';\nimport { usePaymentLink } from '../../hooks/usePaymentLink';\nimport { usePaymentSourceData } from '../../hooks/usePaymentSourceData';\nimport { adaptToPaymentLinkDto } from '../../store/reducers/payment/mapper';\nimport { LoadingBrandButton } from '../ui/BrandButton';\nimport { DealNotFoundView } from '../ui/DealNotFoundView';\nimport { Combobox, TextInput, TextInputLabel } from '../ui/Form';\nimport { PaymentAccountsNotFoundView } from '../ui/PaymentAccountsNotFoundView';\nimport { PaymentFormSkeleton } from '../ui/PaymentFormSkeleton';\nimport { PaymnetLinkGenerationSuccess } from '../ui/PaymnetLinkGenerationSuccess';\nimport { RenderEmailOption, RenderPhoneOption } from '../ui/RenderOption';\nimport { getInitialPaymentFormState } from './helpers/formState';\nimport { getCurrencyLabel } from './helpers/labels';\nimport { getSelectedOptionStyles } from './helpers/styles';\nimport { PaymentAmountField } from './PaymentAmountField';\nimport { GeneratePaymentFormSchema } from './types';\nexport var PaymentFormComponent = function (_a) {\n    var initial = _a.initial, onSubmit = _a.onSubmit, disabled = _a.disabled, _b = _a.loading, loading = _b === void 0 ? false : _b;\n    var form = useForm({ defaultValues: initial, resolver: valibotResolver(GeneratePaymentFormSchema) });\n    var _c = usePaymentSourceData(), accounts = _c.accounts, currencies = _c.currencies, emails = _c.emails, phones = _c.phones;\n    var t = useTranslation(['payment', 'validation']).t;\n    useEffect(function () {\n        if (accounts.length) {\n            form.setValue('paymentAccount', accounts[0]);\n        }\n    }, [accounts]);\n    var isDisabled = form.formState.isSubmitting || disabled;\n    return (_jsx(FormProvider, __assign({}, form, { children: _jsxs(Box, { component: \"form\", sx: { pt: 4, px: 1 }, onSubmit: form.handleSubmit(function (values) {\n                onSubmit(values);\n            }), children: [_jsxs(Grid, { container: true, spacing: 4, children: [_jsx(Grid, { item: true, xs: 12, children: _jsx(Controller, { name: \"description\", control: form.control, render: function (_a) {\n                                    var field = _a.field;\n                                    var error = getError(field.name);\n                                    return (_jsxs(FormControl, { fullWidth: true, error: !!error, disabled: isDisabled, children: [_jsx(TextInputLabel, { children: t(getKey('labels.description')) }), _jsx(TextInput, __assign({}, field, { error: !!error, helperText: t(error), placeholder: t(getKey('placeholders.description')), disabled: isDisabled }))] }));\n                                } }) }), _jsx(Grid, { item: true, xs: 8, children: _jsx(PaymentAmountField, { isDisabled: isDisabled, getError: getError, getTranslationKey: getKey }) }), _jsx(Grid, { item: true, xs: 4, children: _jsx(Controller, { name: \"currency\", control: form.control, render: function (_a) {\n                                    var field = _a.field;\n                                    var error = getError(field.name);\n                                    return (_jsxs(FormControl, { fullWidth: true, error: !!error, disabled: isDisabled, children: [_jsx(TextInputLabel, { children: t(getKey('labels.currency')) }), _jsx(TextInput, __assign({}, field, { select: true, error: !!error, helperText: t(error), id: \"currency\", placeholder: t(getKey('placeholders.currency')), disabled: isDisabled, children: currencies === null || currencies === void 0 ? void 0 : currencies.map(function (currency) {\n                                                    return (_jsx(MenuItem, { value: currency, sx: getSelectedOptionStyles(), children: getCurrencyLabel(currency) }, currency));\n                                                }) }))] }));\n                                } }) }), _jsx(Grid, { item: true, xs: 6, children: _jsx(Controller, { name: \"email\", control: form.control, render: function (_a) {\n                                    var field = _a.field;\n                                    var error = getError(field.name);\n                                    return (_jsxs(FormControl, { fullWidth: true, error: !!error, disabled: isDisabled, children: [_jsx(TextInputLabel, { children: t(getKey('labels.email')) }), _jsx(Combobox, __assign({}, field, { freeSolo: true, options: emails, disabled: isDisabled, onInputChange: function (_, data) {\n                                                    field.onChange(data);\n                                                }, onChange: function (_, value) {\n                                                    field.onChange(value);\n                                                }, renderOption: RenderEmailOption, renderInput: function (params) { return (_jsx(TextInput, __assign({}, params, { error: !!error, helperText: t(error), placeholder: t(getKey('placeholders.email')), disabled: isDisabled }))); } }))] }));\n                                } }) }), _jsx(Grid, { item: true, xs: 6, children: _jsx(Controller, { name: \"phone\", control: form.control, render: function (_a) {\n                                    var field = _a.field;\n                                    var error = getError(field.name);\n                                    return (_jsxs(FormControl, { fullWidth: true, error: !!error, disabled: isDisabled, children: [_jsx(TextInputLabel, { children: t(getKey('labels.phone')) }), _jsx(Combobox, __assign({}, field, { freeSolo: true, options: phones, disabled: isDisabled, onInputChange: function (_, data) {\n                                                    field.onChange(data);\n                                                }, onChange: function (_, value) {\n                                                    field.onChange(value);\n                                                }, renderOption: RenderPhoneOption, renderInput: function (params) { return (_jsx(TextInput, __assign({}, params, { error: !!error, helperText: t(error), placeholder: t(getKey('placeholders.phone')), disabled: isDisabled }))); } }))] }));\n                                } }) }), _jsx(Grid, { item: true, xs: 12, children: _jsx(Controller, { name: \"paymentAccount\", control: form.control, render: function (_a) {\n                                    var _b = _a.field, value = _b.value, onChange = _b.onChange, restField = __rest(_b, [\"value\", \"onChange\"]);\n                                    var error = getError(restField.name);\n                                    return (_jsxs(FormControl, { fullWidth: true, error: !!error, disabled: isDisabled, children: [_jsx(TextInputLabel, { children: t(getKey('labels.paymentAccount')) }), _jsx(TextInput, __assign({}, restField, { select: true, value: (value === null || value === void 0 ? void 0 : value.id) || '', onChange: function (e) {\n                                                    var selectedId = e.target.value;\n                                                    var selected = accounts === null || accounts === void 0 ? void 0 : accounts.find(function (account) { return account.id === selectedId; });\n                                                    onChange(selected || null);\n                                                }, error: !!error, helperText: t(error), id: \"currency\", placeholder: t(getKey('placeholders.paymentAccount')), disabled: isDisabled, children: accounts === null || accounts === void 0 ? void 0 : accounts.map(function (account) {\n                                                    return (_jsx(MenuItem, { value: account.id, sx: getSelectedOptionStyles(), children: account.label }, account.id));\n                                                }) }))] }));\n                                } }) })] }), _jsx(Stack, { pt: 3, flexDirection: \"row\", justifyContent: \"center\", children: _jsx(LoadingBrandButton, { fullWidth: true, loading: loading, type: \"submit\", variant: \"contained\", disabled: isDisabled, children: t(getKey('submit')) }) })] }) })));\n    function getError(name) {\n        var _a, _b;\n        var errI18nKey = ((_b = (_a = form.formState.errors[name]) === null || _a === void 0 ? void 0 : _a.message) !== null && _b !== void 0 ? _b : '');\n        if (!errI18nKey)\n            return '';\n        return t(errI18nKey);\n    }\n    function getKey(path) {\n        return \"payment:paymentForm.\".concat(path);\n    }\n};\nvar CLEAR_ERRORS_IN = 3000;\nvar PaymentForm = function () {\n    var _a = useState('idle'), view = _a[0], setView = _a[1];\n    var timeoutId = useRef(null);\n    var deal = useDeal().deal;\n    var _b = usePaymentLink(), paymentLink = _b.paymentLink, generateLink = _b.generateLink, isLoading = _b.isLoading, error = _b.error, isSuccess = _b.isSuccess, reset = _b.reset;\n    var _c = usePaymentSourceData(), accounts = _c.accounts, currencies = _c.currencies, isLoadingSourceData = _c.isLoading;\n    var _d = useNotification(), errorNotification = _d.errorNotification, successNotification = _d.successNotification;\n    var initial = useMemo(function () { return getInitialPaymentFormState(deal, currencies); }, [deal, currencies]);\n    var isIdleView = view === 'idle';\n    var isSuccessView = view === 'success';\n    var onGoBack = useCallback(function () {\n        reset();\n        setView('idle');\n    }, []);\n    var handleFormSubmit = useCallback(function (values) { return __awaiter(void 0, void 0, void 0, function () {\n        var dto;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    dto = adaptToPaymentLinkDto(values, deal.id);\n                    return [4 /*yield*/, generateLink(dto)];\n                case 1:\n                    _a.sent();\n                    return [2 /*return*/];\n            }\n        });\n    }); }, [deal]);\n    useEffect(function () {\n        if (error) {\n            errorNotification(getErrorMessage(error).message);\n            timeoutId.current = setTimeout(function () {\n                reset();\n                timeoutId.current = null;\n            }, CLEAR_ERRORS_IN);\n        }\n    }, [error]);\n    useEffect(function () {\n        if (isSuccess) {\n            successNotification();\n            setView('success');\n        }\n    }, [isSuccess]);\n    useEffect(function () {\n        reset(); // reset prev state\n        return function () {\n            setView('idle');\n            reset();\n            if (timeoutId.current !== null) {\n                clearTimeout(timeoutId.current);\n                timeoutId.current = null;\n            }\n        };\n    }, []);\n    if (!deal) {\n        return _jsx(DealNotFoundView, {});\n    }\n    if (isLoadingSourceData) {\n        return _jsx(PaymentFormSkeleton, {});\n    }\n    if (!(accounts === null || accounts === void 0 ? void 0 : accounts.length) && !isLoadingSourceData) {\n        return _jsx(PaymentAccountsNotFoundView, {});\n    }\n    var isLoaded = !isLoadingSourceData && !!(accounts === null || accounts === void 0 ? void 0 : accounts.length);\n    return (_jsx(Suspense, { fallback: _jsx(PaymentFormSkeleton, {}), children: _jsx(_Fragment, { children: isLoaded && (_jsxs(_Fragment, { children: [isIdleView && (_jsxs(Stack, { gap: 2, children: [_jsx(PaymentFormComponent, { onSubmit: handleFormSubmit, initial: initial, disabled: isLoading, loading: isLoading }), !!error && (_jsx(FormHelperText, { error: true, sx: { fontSize: '1rem' }, children: getErrorMessage(error).message }))] })), isSuccessView && _jsx(PaymnetLinkGenerationSuccess, { link: paymentLink, onClick: onGoBack })] })) }) }));\n};\nexport default PaymentForm;\n","export var getSelectedOptionStyles = function () {\n    return {\n        '&.Mui-selected': {\n            backgroundColor: 'action.selected',\n            fontWeight: 'bold',\n        },\n    };\n};\n","import { isTestCurrency } from './currency';\nexport var getCurrencyLabel = function (option) {\n    return isTestCurrency(option) ? \"\".concat(option, \" (for test account)\") : option;\n};\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { useCallback } from 'react';\nimport { useAppDispatch, useAppSelector } from '../store';\nimport { paymentActions } from '../store/reducers/payment';\nimport { generatePaymentLink as generatePaymentLinkAction } from '../store/reducers/payment/async-thunks';\nimport { selectGenerateError, selectIsGenerating, selectIsGeneratingSuccess, selectPaymentLink } from '../store/reducers/payment/selectors';\nexport var usePaymentLink = function () {\n    var dispatch = useAppDispatch();\n    var paymentLink = useAppSelector(selectPaymentLink);\n    var isSuccess = useAppSelector(selectIsGeneratingSuccess);\n    var isLoading = useAppSelector(selectIsGenerating);\n    var error = useAppSelector(selectGenerateError);\n    var isError = !!error;\n    var generateLink = function (dto) { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            return [2 /*return*/, dispatch(generatePaymentLinkAction(dto))];\n        });\n    }); };\n    var reset = useCallback(function () {\n        dispatch(paymentActions.resetGeneratingRequest());\n    }, []);\n    return {\n        paymentLink: paymentLink,\n        generateLink: generateLink,\n        isLoading: isLoading,\n        error: error,\n        isError: isError,\n        isSuccess: isSuccess,\n        reset: reset,\n    };\n};\n","import { isDev, isStage } from '../../../const';\nimport { PaymentCurrencyEnum, RecieptDeliveryEnum } from '../../../models/payment';\nexport var getInitialPaymentFormState = function (deal, currencies) {\n    var _a, _b, _c, _d, _e, _f;\n    var description = (_a = deal === null || deal === void 0 ? void 0 : deal.title) !== null && _a !== void 0 ? _a : '';\n    var dealCurrency = currencies.find(function (c) { var _a; return c === ((_a = deal === null || deal === void 0 ? void 0 : deal.amount) === null || _a === void 0 ? void 0 : _a.currency); }) || PaymentCurrencyEnum.UAH;\n    var currency = isDev || isStage ? PaymentCurrencyEnum.XTS : dealCurrency;\n    var amount = ((_b = deal === null || deal === void 0 ? void 0 : deal.amount) === null || _b === void 0 ? void 0 : _b.value) || '0.00';\n    // eslint-disable-next-line no-console\n    console.log('deal -->', deal);\n    if (!Array.isArray(deal === null || deal === void 0 ? void 0 : deal.contacts)) {\n        return {\n            email: '',\n            phone: '',\n            amount: amount,\n            currency: currency,\n            description: description,\n            paymentAccount: null,\n            receiptDelivery: RecieptDeliveryEnum.None,\n        };\n    }\n    var contact = ((deal === null || deal === void 0 ? void 0 : deal.contacts) || [])[0];\n    var fallbackEmail = Array.isArray(contact === null || contact === void 0 ? void 0 : contact.email) ? (_c = contact.email[0]) === null || _c === void 0 ? void 0 : _c.value : '';\n    var fallbackPhone = Array.isArray(contact === null || contact === void 0 ? void 0 : contact.phone) ? (_d = contact.phone[0]) === null || _d === void 0 ? void 0 : _d.value : '';\n    var mainEmail = Array.isArray(contact === null || contact === void 0 ? void 0 : contact.email) ? (_e = contact === null || contact === void 0 ? void 0 : contact.email) === null || _e === void 0 ? void 0 : _e.find(function (emailAddress) { return !!(emailAddress === null || emailAddress === void 0 ? void 0 : emailAddress.main); }) : null;\n    var mainPhone = Array.isArray(contact === null || contact === void 0 ? void 0 : contact.phone) ? (_f = contact === null || contact === void 0 ? void 0 : contact.phone) === null || _f === void 0 ? void 0 : _f.find(function (tel) { return !!(tel === null || tel === void 0 ? void 0 : tel.main); }) : null;\n    var email = (mainEmail === null || mainEmail === void 0 ? void 0 : mainEmail.value) || fallbackEmail;\n    var phone = (mainPhone === null || mainPhone === void 0 ? void 0 : mainPhone.value) || fallbackPhone;\n    var state = {\n        amount: amount,\n        email: email,\n        phone: phone,\n        currency: currency,\n        description: description,\n        paymentAccount: null,\n        receiptDelivery: RecieptDeliveryEnum.None,\n    };\n    return state;\n};\n","export var selectDeal = function (state) {\n    var deal = state.app.deal;\n    if (!(deal === null || deal === void 0 ? void 0 : deal.id)) {\n        return null;\n    }\n    return deal;\n};\n","import { useDispatch, useSelector } from 'react-redux';\nimport { clearDeal, hydrateDeal } from '../store/reducers/app/actions';\nimport { selectDeal } from '../store/reducers/app/selectors';\nexport var useDeal = function () {\n    var dispatch = useDispatch();\n    var deal = useSelector(selectDeal);\n    return {\n        deal: deal,\n        hydrateDeal: function (entity) { return dispatch(hydrateDeal(entity)); },\n        clearDeal: function () { return dispatch(clearDeal()); },\n    };\n};\n","import { Fragment as _Fragment, jsx as _jsx } from \"react/jsx-runtime\";\nimport { useEffect } from 'react';\nimport { useDeal } from '../../hooks/useDeal';\nexport var AppProvider = function (_a) {\n    var children = _a.children, deal = _a.deal;\n    var _b = useDeal(), hydrateDeal = _b.hydrateDeal, clearDeal = _b.clearDeal;\n    useEffect(function () {\n        if (deal) {\n            hydrateDeal(deal);\n        }\n    }, [deal]);\n    useEffect(function () { return function () {\n        clearDeal();\n    }; }, []);\n    return _jsx(_Fragment, { children: children });\n};\n"],"names":["_rect","_path","usePaymentSourceData","_a","usePaymentAccountsList","data","isLoading","isError","error","refetch","deal","useDeal","currencies","testCurrency","PaymentCurrencyEnum","XTS","isDev","isStage","to","from","pack","arguments","length","ar","i","l","Array","prototype","slice","call","concat","__spreadArray","getCurrencyList","emails","useMemo","_b","isArray","contacts","map","contact","email","_c","id","value","label","owner","title","flat","filter","phones","phone","accounts","recieptDeliveryTransports","refetchAccounts","DealNotFoundView","t","useTranslation","_jsx","Stack","sx","height","alignItems","justifyContent","gap","px","children","Typography","variant","PaymentAccountsNotFoundView","_jsxs","maxWidth","textAlign","PaymentFormSkeleton","pt","width","mx","Grid","container","spacing","xs","index","item","Skeleton","animation","borderRadius","_extends","Object","assign","bind","n","e","r","hasOwnProperty","apply","props","xmlns","fill","stroke","strokeLinecap","strokeLinejoin","strokeWidth","viewBox","x","y","rx","ry","d","_path2","PaymnetLinkGenerationSuccess","onClick","link","useState","copied","setCopied","useNotification","errorNotification","successNotification","timeoutRef","useRef","dispatch","useAppDispatch","useEffect","paymentActions","resetGeneratingRequest","current","clearTimeout","component","fontSize","fontWeight","color","Box","p","href","target","rel","textDecoration","BrandButton","disabled","endIcon","CopyCheckIcon","CopyIcon","opacity","thisArg","_arguments","generator","body","f","_","sent","trys","ops","g","create","Iterator","next","verb","Symbol","iterator","this","v","op","TypeError","done","pop","push","step","__generator","navigator","clipboard","writeText","setTimeout","P","Promise","resolve","reject","fulfilled","rejected","result","then","position","mt","top","left","transform","backgroundColor","zIndex","Divider","Button","stopPropagation","borderColor","__assign","s","RenderOption","option","inputValue","display","flexDirection","font","RenderEmailOption","RenderPhoneOption","PaymentAmountField","getError","getTranslationKey","isDisabled","useFormContext","control","watch","currency","isReadonly","isTestCurrency","allowDigitsOnly","event","includes","key","input","currentValue","isDigit","test","isDotOrComma","separator","separatorIndex","indexOf","selectionStart","split","preventDefault","Controller","name","render","field","FormControl","fullWidth","TextInputLabel","TextInput","onKeyDown","helperText","VALID_TEST_PAYMENT_AMOUNT","toFixed","placeholder","FormHelperText","getKey","path","PaymentAccountSchema","EmailSchema","PhoneSchema","GeneratePaymentFormSchema","description","amount","isNaN","Number","paymentAccount","receiptDelivery","RecieptDeliveryEnum","PaymentFormComponent","initial","onSubmit","loading","form","useForm","defaultValues","resolver","valibotResolver","setValue","formState","isSubmitting","FormProvider","handleSubmit","values","select","MenuItem","Combobox","freeSolo","options","onInputChange","onChange","renderOption","renderInput","params","restField","getOwnPropertySymbols","propertyIsEnumerable","__rest","selectedId","selected","find","account","LoadingBrandButton","type","errI18nKey","errors","message","view","setView","timeoutId","paymentLink","useAppSelector","selectPaymentLink","isSuccess","selectIsGeneratingSuccess","selectIsGenerating","selectGenerateError","generateLink","dto","generatePaymentLinkAction","reset","useCallback","usePaymentLink","isLoadingSourceData","_d","_e","_f","dealCurrency","c","UAH","console","log","None","fallbackEmail","fallbackPhone","mainEmail","emailAddress","main","mainPhone","tel","getInitialPaymentFormState","isIdleView","isSuccessView","onGoBack","handleFormSubmit","adaptToPaymentLinkDto","getErrorMessage","isLoaded","Suspense","fallback","_Fragment","selectDeal","state","app","useDispatch","useSelector","hydrateDeal","entity","clearDeal","AppProvider"],"sourceRoot":""}