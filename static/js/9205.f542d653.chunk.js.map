{"version":3,"file":"static/js/9205.f542d653.chunk.js","mappings":"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","sources":["webpack://container/./src/static/images/copy.svg","webpack://container/./src/hooks/usePaymentSourceData.ts","webpack://container/./src/store/reducers/payment/local-data.ts","webpack://container/./src/components/ui/DealNotFoundView.tsx","webpack://container/./src/components/ui/PaymentAccountsNotFoundView.tsx","webpack://container/./src/components/ui/PaymentFormSkeleton.tsx","webpack://container/./src/static/images/copy-check.svg","webpack://container/./src/components/ui/PaymnetLinkGenerationSuccess.tsx","webpack://container/./src/components/ui/RenderOption.tsx","webpack://container/./src/components/PaymentForm/PaymentAmountField.tsx","webpack://container/./src/components/PaymentForm/helpers/input.ts","webpack://container/./src/components/PaymentForm/types.ts","webpack://container/./src/components/PaymentForm/index.tsx","webpack://container/./src/components/PaymentForm/helpers/labels.ts","webpack://container/./src/hooks/usePaymentLink.ts","webpack://container/./src/components/PaymentForm/helpers/formState.ts","webpack://container/./src/store/reducers/app/selectors.ts","webpack://container/./src/hooks/useDeal.ts","webpack://container/./src/context/AppProvider/index.tsx"],"sourcesContent":["var _rect, _path;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nconst SvgCopy = props => /*#__PURE__*/React.createElement(\"svg\", _extends({\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"1em\",\n  height: \"1em\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  strokeWidth: 2,\n  viewBox: \"0 0 24 24\"\n}, props), _rect || (_rect = /*#__PURE__*/React.createElement(\"rect\", {\n  width: 14,\n  height: 14,\n  x: 8,\n  y: 8,\n  rx: 2,\n  ry: 2\n})), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2\"\n})));\nexport default SvgCopy;","import { useMemo } from 'react';\nimport { getCurrencyList, getRecieptDeliveryList } from '../store/reducers/payment/local-data';\nimport { useDeal } from './useDeal';\nimport { usePaymentAccountsList } from './usePaymentAccountsList';\nexport var usePaymentSourceData = function () {\n    var _a = usePaymentAccountsList(), data = _a.data, isLoading = _a.isLoading, isError = _a.isError, error = _a.error, refetch = _a.refetch;\n    var deal = useDeal().deal;\n    var currencies = getCurrencyList();\n    var reciepts = getRecieptDeliveryList();\n    var emails = useMemo(function () {\n        var _a, _b;\n        return ((_b = (_a = deal === null || deal === void 0 ? void 0 : deal.contacts) === null || _a === void 0 ? void 0 : _a.map(function (contact) {\n            if (!Array.isArray(contact === null || contact === void 0 ? void 0 : contact.email))\n                return [];\n            return contact.email.map(function (email) { var _a, _b, _c; return ({ id: (_a = email === null || email === void 0 ? void 0 : email.value) !== null && _a !== void 0 ? _a : '', label: (_b = email === null || email === void 0 ? void 0 : email.value) !== null && _b !== void 0 ? _b : '', owner: (_c = contact === null || contact === void 0 ? void 0 : contact.title) !== null && _c !== void 0 ? _c : '' }); });\n        }).flat().filter(function (email) { return !!(email === null || email === void 0 ? void 0 : email.label); })) !== null && _b !== void 0 ? _b : []);\n    }, [deal]);\n    var phones = useMemo(function () {\n        var _a, _b;\n        return ((_b = (_a = deal === null || deal === void 0 ? void 0 : deal.contacts) === null || _a === void 0 ? void 0 : _a.map(function (contact) {\n            if (!Array.isArray(contact.phone))\n                return [];\n            return contact.phone.map(function (phone) { var _a, _b, _c; return ({ id: (_a = phone === null || phone === void 0 ? void 0 : phone.value) !== null && _a !== void 0 ? _a : '', label: (_b = phone === null || phone === void 0 ? void 0 : phone.value) !== null && _b !== void 0 ? _b : '', owner: (_c = contact === null || contact === void 0 ? void 0 : contact.title) !== null && _c !== void 0 ? _c : '' }); });\n        }).flat().filter(function (phone) { return !!phone.label; })) !== null && _b !== void 0 ? _b : []);\n    }, [deal]);\n    return {\n        accounts: data,\n        currencies: currencies,\n        recieptDeliveryTransports: reciepts,\n        emails: emails,\n        phones: phones,\n        isLoading: isLoading,\n        isError: isError,\n        error: error,\n        refetchAccounts: refetch,\n    };\n};\n","var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { isDev, isStage } from '../../../const';\nimport { PaymentCurrencyEnum } from '../../../models/payment';\nexport var getCurrencyList = function () {\n    var currencies = ['UAH', 'USD', 'EUR'];\n    var testCurrency = PaymentCurrencyEnum.XTS;\n    if (isDev || isStage) {\n        return __spreadArray([testCurrency], currencies, true);\n    }\n    return currencies;\n};\nexport var getRecieptDeliveryList = function () {\n    return ['None', 'Email', 'SMS', 'Viber'];\n};\n","import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Stack, Typography } from '@mui/material';\nimport { useTranslation } from 'react-i18next';\nexport var DealNotFoundView = function () {\n    var t = useTranslation('payment').t;\n    return (_jsx(Stack, { sx: { height: '400px', alignItems: 'center', justifyContent: 'center', gap: 2, px: 1 }, children: _jsx(Typography, { variant: \"h3\", children: t('payment:deal.notFound') }) }));\n};\n","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Stack, Typography } from '@mui/material';\nimport { useTranslation } from 'react-i18next';\nexport var PaymentAccountsNotFoundView = function () {\n    var t = useTranslation('payment').t;\n    return (_jsxs(Stack, { sx: { height: '400px', alignItems: 'center', justifyContent: 'center', gap: 2, px: 1 }, children: [_jsx(Typography, { variant: \"h1\", children: t('payment:views.empty.title') }), _jsx(Typography, { variant: \"body1\", sx: { maxWidth: '65ch', textAlign: 'center' }, children: t('payment:views.empty.reason') })] }));\n};\n","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Grid, Skeleton, Stack } from '@mui/material';\nexport var PaymentFormSkeleton = function () {\n    return (_jsxs(Stack, { height: \"100%\", sx: { pt: 1, width: '536px', mx: 'auto' }, children: [_jsx(Grid, { container: true, spacing: 1, children: [12, 8, 4, 6, 6, 8, 4].map(function (xs, index) { return (_jsx(Grid, { item: true, xs: xs, children: _jsxs(Stack, { spacing: 0.5, children: [_jsx(Skeleton, { variant: \"text\", animation: \"wave\", sx: { height: 16, width: '30%' } }), _jsx(Skeleton, { variant: \"rounded\", animation: \"wave\", sx: { height: 56, width: '100%', borderRadius: 1 } })] }) }, index)); }) }), _jsx(Stack, { pt: 3, width: \"100%\", children: _jsx(Skeleton, { variant: \"rounded\", animation: \"wave\", sx: { height: 40, width: '100%', borderRadius: 1 } }) })] }));\n};\n","var _path, _rect, _path2;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nconst SvgCopyCheck = props => /*#__PURE__*/React.createElement(\"svg\", _extends({\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"1em\",\n  height: \"1em\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  strokeWidth: 2,\n  viewBox: \"0 0 24 24\"\n}, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m12 15 2 2 4-4\"\n})), _rect || (_rect = /*#__PURE__*/React.createElement(\"rect\", {\n  width: 14,\n  height: 14,\n  x: 8,\n  y: 8,\n  rx: 2,\n  ry: 2\n})), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2\"\n})));\nexport default SvgCopyCheck;","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Box, Button, Divider, Stack, Typography } from '@mui/material';\nimport { useEffect, useRef, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useNotification } from '../../hooks/useNotification';\nimport CopyIcon from '../../static/images/copy.svg';\nimport CopyCheckIcon from '../../static/images/copy-check.svg';\nimport { BrandButton } from './BrandButton';\nexport var PaymnetLinkGenerationSuccess = function (_a) {\n    var onClick = _a.onClick, link = _a.link;\n    var t = useTranslation(['translation', 'payment']).t;\n    var _b = useState(false), copied = _b[0], setCopied = _b[1];\n    var _c = useNotification(), errorNotification = _c.errorNotification, successNotification = _c.successNotification;\n    var timeoutRef = useRef(null);\n    var copyToClipboard = function () { return __awaiter(void 0, void 0, void 0, function () {\n        var _a;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    _b.trys.push([0, 2, , 3]);\n                    return [4 /*yield*/, navigator.clipboard.writeText(link)];\n                case 1:\n                    _b.sent();\n                    setCopied(true);\n                    successNotification(t('translation:common.copiedToClipboard'));\n                    timeoutRef.current = setTimeout(function () { return setCopied(false); }, 2000);\n                    return [3 /*break*/, 3];\n                case 2:\n                    _a = _b.sent();\n                    errorNotification(t('translation:common.errors.copyToClipboard'));\n                    return [3 /*break*/, 3];\n                case 3: return [2 /*return*/];\n            }\n        });\n    }); };\n    useEffect(function () {\n        return function () {\n            if (timeoutRef.current) {\n                clearTimeout(timeoutRef.current);\n            }\n        };\n    }, []);\n    var handleClick = function (e) {\n        e.stopPropagation();\n        onClick();\n    };\n    return (_jsxs(Stack, { sx: { height: '400px', gap: 3, pt: 2, alignItems: 'center', justifyContent: 'center', width: '536px', mx: 'auto' }, children: [_jsx(Typography, { component: \"h2\", fontSize: \"2rem\", textAlign: \"center\", fontWeight: \"600\", color: \"success.main\", children: t('payment:views.success.title') }), _jsxs(Box, { sx: { p: 2, width: '100%', maxWidth: '400px', textAlign: 'center' }, children: [_jsxs(Stack, { gap: 2, children: [_jsx(Typography, { component: \"p\", fontWeight: \"600\", color: \"text.secondary\", children: t('payment:views.success.reason') }), _jsx(Typography, { component: \"a\", href: link, target: \"_blank\", rel: \"noopeneer noreferrer\", color: \"text.secondary\", sx: { textDecoration: 'none' }, children: link }), _jsx(BrandButton, { disabled: copied, endIcon: copied ? _jsx(CopyCheckIcon, {}) : _jsx(CopyIcon, {}), sx: { mx: 'auto', width: '90%', color: '#fff', '&:disabled': { color: '#fff', opacity: '0.5' } }, onClick: copyToClipboard, children: t('translation:common.buttons.copy') })] }), _jsxs(Stack, { justifyContent: \"center\", sx: { position: 'relative', mt: 1, height: '40px', maxWidth: '80%', mx: 'auto' }, children: [_jsx(Typography, { component: \"span\", color: \"text.secondary\", sx: {\n                                    p: 1,\n                                    position: 'absolute',\n                                    top: '50%',\n                                    left: '50%',\n                                    transform: 'translate(-50%, -50%)',\n                                    backgroundColor: '#fff',\n                                    zIndex: 1,\n                                }, children: t('translation:common.or') }), _jsx(Divider, {})] }), _jsxs(Stack, { gap: 2, sx: { mt: 1 }, children: [_jsx(Typography, { component: \"p\", color: \"text.secondary\", sx: { maxWidth: '65ch', textAlign: 'center', mx: 'auto' }, children: t('payment:views.success.description') }), _jsx(Button, { onClick: handleClick, variant: \"outlined\", sx: {\n                                    mx: 'auto',\n                                    width: 'fit-content',\n                                    color: 'background.brand',\n                                    borderColor: 'background.brand',\n                                    '&:hover': {\n                                        borderColor: 'background.brand',\n                                    },\n                                }, children: t('payment:views.success.back') })] })] })] }));\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Box } from '@mui/material';\nvar RenderOption = function (props, option, _a) {\n    var selected = _a.selected;\n    return (_jsx(Box, __assign({ component: \"li\" }, props, { sx: {\n            textAlign: 'left',\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'flex-start',\n            width: '100%',\n            p: 1,\n            backgroundColor: selected ? 'background.tags' : '',\n        }, children: _jsxs(Box, { width: \"100%\", children: [_jsx(Box, { component: \"div\", sx: { font: 'medium' }, children: option.label }), _jsx(Box, { component: \"div\", color: \"text.secondary\", sx: { fontSize: '12px' }, children: option.owner })] }) })));\n};\nexport var RenderEmailOption = RenderOption;\nexport var RenderPhoneOption = RenderOption;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { FormControl, FormHelperText } from '@mui/material';\nimport { useMemo } from 'react';\nimport { Controller, useFormContext } from 'react-hook-form';\nimport { useTranslation } from 'react-i18next';\nimport { TextInput, TextInputLabel } from '../ui/Form';\nimport { isTestCurrency, VALID_TEST_PAYMENT_AMOUNT } from './helpers/currency';\nimport { createDigitsHandler } from './helpers/input';\nexport var PaymentAmountField = function (_a) {\n    var getError = _a.getError, getTranslationKey = _a.getTranslationKey, isDisabled = _a.isDisabled;\n    var _b = useFormContext(), control = _b.control, watch = _b.watch;\n    var t = useTranslation(['payment', 'validation']).t;\n    var currency = watch('currency');\n    var isReadonly = isTestCurrency(currency);\n    var allowDigitsOnly = useMemo(function () { return createDigitsHandler({ maxDecimal: 2 }); }, []);\n    return (_jsx(Controller, { name: \"amount\", control: control, render: function (_a) {\n            var field = _a.field;\n            var error = getError(field.name);\n            return (_jsxs(FormControl, { fullWidth: true, error: !!error, disabled: isReadonly || isDisabled, children: [_jsx(TextInputLabel, { children: t(getTranslationKey('labels.amount')) }), _jsx(TextInput, __assign({}, field, { onKeyDown: allowDigitsOnly, error: !!error, helperText: t(error), value: isReadonly ? VALID_TEST_PAYMENT_AMOUNT.toFixed(2) : field.value, placeholder: t(getTranslationKey('placeholders.amount')), disabled: isReadonly || isDisabled })), isReadonly && _jsx(FormHelperText, { children: t(getTranslationKey('helperText.testPayment')) })] }));\n        } }));\n};\n","export var createDigitsHandler = function (_a) {\n    var maxDecimal = _a.maxDecimal;\n    return function (event) {\n        var _a;\n        var allowedKeys = ['Backspace', 'ArrowLeft', 'ArrowRight', 'Delete', 'Tab'];\n        if (allowedKeys.includes(event.key))\n            return;\n        var input = event.target;\n        var currentValue = input.value;\n        var key = event.key;\n        var isDigit = /^\\d$/.test(key);\n        var isDotOrComma = key === '.' || key === ',';\n        var separator = currentValue.includes('.') ? '.' : currentValue.includes(',') ? ',' : null;\n        if (isDigit) {\n            if (separator) {\n                var separatorIndex = currentValue.indexOf(separator);\n                var cursorPos = (_a = input.selectionStart) !== null && _a !== void 0 ? _a : 0;\n                // Check if the cursor is after the separator\n                if (cursorPos > separatorIndex) {\n                    var decimals = currentValue.split(separator)[1] || '';\n                    if (decimals.length >= maxDecimal) {\n                        event.preventDefault();\n                        return;\n                    }\n                }\n            }\n            return;\n        }\n        if (isDotOrComma && !separator) {\n            return;\n        }\n        event.preventDefault();\n    };\n};\n","import * as v from 'valibot';\nimport { PaymentCurrencyEnum, RecieptDeliveryEnum } from '../../models/payment';\nvar t = function (key) { return key; };\nvar getKey = function (path) { return \"validation:common.\".concat(path); };\nvar PaymentAccountSchema = v.pipe(v.object({ id: v.union([v.number(), v.string()]), label: v.string() }), v.check(function (input) { return input !== null; }, t(getKey('predefined'))));\nvar EmailSchema = v.union([\n    v.pipe(v.string(t(getKey('invalidString'))), v.trim(), v.nonEmpty(t(getKey('required'))), v.email(t(getKey('invalidEmail')))),\n    v.object({\n        id: v.string(t(getKey('invalidString'))),\n        label: v.string(t(getKey('invalidString'))),\n        owner: v.string(),\n    }),\n], t(getKey('required')));\nvar PhoneSchema = v.union([\n    v.pipe(v.string(t(getKey('invalidString'))), v.trim(), v.nonEmpty(t(getKey('required')))),\n    v.object({\n        id: v.string(t(getKey('invalidString'))),\n        label: v.string(t(getKey('invalidString'))),\n        owner: v.string(),\n    }),\n], t(getKey('required')));\nexport var GeneratePaymentFormSchema = v.object({\n    description: v.pipe(v.string(t(getKey('invalidString'))), v.trim(), v.nonEmpty(t(getKey('required')))),\n    amount: v.pipe(v.string(t(getKey('invalidString'))), v.trim(), v.nonEmpty(t(getKey('required'))), v.check(function (input) { return !isNaN(Number(input)); }, function () { return t(getKey('invalidNumber')); })),\n    currency: v.enum(PaymentCurrencyEnum),\n    email: EmailSchema,\n    phone: PhoneSchema,\n    paymentAccount: PaymentAccountSchema,\n    receiptDelivery: v.enum(RecieptDeliveryEnum),\n});\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { valibotResolver } from '@hookform/resolvers/valibot';\nimport { Box, FormControl, FormHelperText, Grid, MenuItem, Stack } from '@mui/material';\nimport { Suspense, useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { Controller, FormProvider, useForm } from 'react-hook-form';\nimport { useTranslation } from 'react-i18next';\nimport { getErrorMessage } from '../../helpers/errors';\nimport { useDeal } from '../../hooks/useDeal';\nimport { useNotification } from '../../hooks/useNotification';\nimport { usePaymentLink } from '../../hooks/usePaymentLink';\nimport { usePaymentSourceData } from '../../hooks/usePaymentSourceData';\nimport { adaptToPaymentLinkDto } from '../../store/reducers/payment/mapper';\nimport { LoadingBrandButton } from '../ui/BrandButton';\nimport { DealNotFoundView } from '../ui/DealNotFoundView';\nimport { Combobox, TextInput, TextInputLabel } from '../ui/Form';\nimport { PaymentAccountsNotFoundView } from '../ui/PaymentAccountsNotFoundView';\nimport { PaymentFormSkeleton } from '../ui/PaymentFormSkeleton';\nimport { PaymnetLinkGenerationSuccess } from '../ui/PaymnetLinkGenerationSuccess';\nimport { RenderEmailOption, RenderPhoneOption } from '../ui/RenderOption';\nimport { getInitialPaymentFormState } from './helpers/formState';\nimport { getCurrencyLabel } from './helpers/labels';\nimport { PaymentAmountField } from './PaymentAmountField';\nimport { GeneratePaymentFormSchema } from './types';\nexport var PaymentFormComponent = function (_a) {\n    var initial = _a.initial, onSubmit = _a.onSubmit, disabled = _a.disabled, _b = _a.loading, loading = _b === void 0 ? false : _b;\n    var form = useForm({ defaultValues: initial, resolver: valibotResolver(GeneratePaymentFormSchema) });\n    var _c = usePaymentSourceData(), accounts = _c.accounts, currencies = _c.currencies, recieptDeliveryTransports = _c.recieptDeliveryTransports, emails = _c.emails, phones = _c.phones;\n    var t = useTranslation(['payment', 'validation']).t;\n    useEffect(function () {\n        if (accounts.length) {\n            form.setValue('paymentAccount', accounts[0]);\n        }\n    }, [accounts]);\n    var isDisabled = form.formState.isSubmitting || disabled;\n    return (_jsx(FormProvider, __assign({}, form, { children: _jsxs(Box, { component: \"form\", sx: { pt: 4, px: 1 }, onSubmit: form.handleSubmit(function (values) {\n                onSubmit(values);\n            }), children: [_jsxs(Grid, { container: true, spacing: 4, children: [_jsx(Grid, { item: true, xs: 12, children: _jsx(Controller, { name: \"description\", control: form.control, render: function (_a) {\n                                    var field = _a.field;\n                                    var error = getError(field.name);\n                                    return (_jsxs(FormControl, { fullWidth: true, error: !!error, disabled: isDisabled, children: [_jsx(TextInputLabel, { children: t(getKey('labels.description')) }), _jsx(TextInput, __assign({}, field, { error: !!error, helperText: t(error), placeholder: t(getKey('placeholders.description')), disabled: isDisabled }))] }));\n                                } }) }), _jsx(Grid, { item: true, xs: 8, children: _jsx(PaymentAmountField, { isDisabled: isDisabled, getError: getError, getTranslationKey: getKey }) }), _jsx(Grid, { item: true, xs: 4, children: _jsx(Controller, { name: \"currency\", control: form.control, render: function (_a) {\n                                    var field = _a.field;\n                                    var error = getError(field.name);\n                                    return (_jsxs(FormControl, { fullWidth: true, error: !!error, disabled: isDisabled, children: [_jsx(TextInputLabel, { children: t(getKey('labels.currency')) }), _jsx(TextInput, __assign({}, field, { select: true, error: !!error, helperText: t(error), id: \"currency\", placeholder: t(getKey('placeholders.currency')), disabled: isDisabled, children: currencies === null || currencies === void 0 ? void 0 : currencies.map(function (currency) {\n                                                    return (_jsx(MenuItem, { value: currency, children: getCurrencyLabel(currency) }, currency));\n                                                }) }))] }));\n                                } }) }), _jsx(Grid, { item: true, xs: 6, children: _jsx(Controller, { name: \"email\", control: form.control, render: function (_a) {\n                                    var field = _a.field;\n                                    var error = getError(field.name);\n                                    return (_jsxs(FormControl, { fullWidth: true, error: !!error, disabled: isDisabled, children: [_jsx(TextInputLabel, { children: t(getKey('labels.email')) }), _jsx(Combobox, __assign({}, field, { freeSolo: true, options: emails, disabled: isDisabled, onInputChange: function (_, data) {\n                                                    field.onChange(data);\n                                                }, onChange: function (_, value) {\n                                                    field.onChange(value);\n                                                }, renderOption: RenderEmailOption, renderInput: function (params) { return (_jsx(TextInput, __assign({}, params, { error: !!error, helperText: t(error), placeholder: t(getKey('placeholders.email')), disabled: isDisabled }))); } }))] }));\n                                } }) }), _jsx(Grid, { item: true, xs: 6, children: _jsx(Controller, { name: \"phone\", control: form.control, render: function (_a) {\n                                    var field = _a.field;\n                                    var error = getError(field.name);\n                                    return (_jsxs(FormControl, { fullWidth: true, error: !!error, disabled: isDisabled, children: [_jsx(TextInputLabel, { children: t(getKey('labels.phone')) }), _jsx(Combobox, __assign({}, field, { freeSolo: true, options: phones, disabled: isDisabled, onInputChange: function (_, data) {\n                                                    field.onChange(data);\n                                                }, onChange: function (_, value) {\n                                                    field.onChange(value);\n                                                }, renderOption: RenderPhoneOption, renderInput: function (params) { return (_jsx(TextInput, __assign({}, params, { error: !!error, helperText: t(error), placeholder: t(getKey('placeholders.phone')), disabled: isDisabled }))); } }))] }));\n                                } }) }), _jsx(Grid, { item: true, xs: 8, children: _jsx(Controller, { name: \"paymentAccount\", control: form.control, render: function (_a) {\n                                    var _b = _a.field, value = _b.value, onChange = _b.onChange, restField = __rest(_b, [\"value\", \"onChange\"]);\n                                    var error = getError(restField.name);\n                                    return (_jsxs(FormControl, { fullWidth: true, error: !!error, disabled: isDisabled, children: [_jsx(TextInputLabel, { children: t(getKey('labels.paymentAccount')) }), _jsx(TextInput, __assign({}, restField, { select: true, value: (value === null || value === void 0 ? void 0 : value.id) || '', onChange: function (e) {\n                                                    var selectedId = e.target.value;\n                                                    var selected = accounts === null || accounts === void 0 ? void 0 : accounts.find(function (account) { return account.id === selectedId; });\n                                                    onChange(selected || null);\n                                                }, error: !!error, helperText: t(error), id: \"currency\", placeholder: t(getKey('placeholders.paymentAccount')), disabled: isDisabled, children: accounts === null || accounts === void 0 ? void 0 : accounts.map(function (account) {\n                                                    return (_jsx(MenuItem, { value: account.id, children: account.label }, account.id));\n                                                }) }))] }));\n                                } }) }), _jsx(Grid, { item: true, xs: 4, children: _jsx(Controller, { name: \"receiptDelivery\", control: form.control, render: function (_a) {\n                                    var field = _a.field;\n                                    var error = getError(field.name);\n                                    return (_jsxs(FormControl, { fullWidth: true, error: !!error, disabled: isDisabled, children: [_jsx(TextInputLabel, { children: t(getKey('labels.receiptDelivery')) }), _jsx(TextInput, __assign({}, field, { select: true, error: !!error, helperText: t(error), placeholder: t(getKey('placeholders.receiptDelivery')), disabled: isDisabled, children: recieptDeliveryTransports === null || recieptDeliveryTransports === void 0 ? void 0 : recieptDeliveryTransports.map(function (transport) {\n                                                    return (_jsx(MenuItem, { value: transport, children: t(getKey(\"predefined.receiptDelivery.\".concat(transport.toLowerCase()))) }, transport));\n                                                }) }))] }));\n                                } }) })] }), _jsx(Stack, { pt: 3, flexDirection: \"row\", justifyContent: \"center\", children: _jsx(LoadingBrandButton, { fullWidth: true, loading: loading, type: \"submit\", variant: \"contained\", disabled: isDisabled, children: t(getKey('submit')) }) })] }) })));\n    function getError(name) {\n        var _a, _b;\n        var errI18nKey = ((_b = (_a = form.formState.errors[name]) === null || _a === void 0 ? void 0 : _a.message) !== null && _b !== void 0 ? _b : '');\n        if (!errI18nKey)\n            return '';\n        return t(errI18nKey);\n    }\n    function getKey(path) {\n        return \"payment:paymentForm.\".concat(path);\n    }\n};\nvar CLEAR_ERRORS_IN = 3000;\nvar PaymentForm = function () {\n    var _a = useState('idle'), view = _a[0], setView = _a[1];\n    var timeoutId = useRef(null);\n    var deal = useDeal().deal;\n    var _b = usePaymentLink(), paymentLink = _b.paymentLink, generateLink = _b.generateLink, isLoading = _b.isLoading, error = _b.error, isSuccess = _b.isSuccess, reset = _b.reset;\n    var _c = usePaymentSourceData(), accounts = _c.accounts, currencies = _c.currencies, isLoadingSourceData = _c.isLoading;\n    var _d = useNotification(), errorNotification = _d.errorNotification, successNotification = _d.successNotification;\n    var initial = useMemo(function () { return getInitialPaymentFormState(deal, currencies); }, [deal, currencies]);\n    var isIdleView = view === 'idle';\n    var isSuccessView = view === 'success';\n    var onGoBack = useCallback(function () { return setView('idle'); }, []);\n    var handleFormSubmit = useCallback(function (values) { return __awaiter(void 0, void 0, void 0, function () {\n        var dto;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    dto = adaptToPaymentLinkDto(values, deal.id);\n                    return [4 /*yield*/, generateLink(dto)];\n                case 1:\n                    _a.sent();\n                    return [2 /*return*/];\n            }\n        });\n    }); }, [deal]);\n    useEffect(function () {\n        if (error) {\n            errorNotification(getErrorMessage(error).message);\n            timeoutId.current = setTimeout(function () {\n                reset();\n                timeoutId.current = null;\n            }, CLEAR_ERRORS_IN);\n        }\n    }, [error]);\n    useEffect(function () {\n        if (isSuccess) {\n            successNotification();\n            setView('success');\n        }\n    }, [isSuccess]);\n    useEffect(function () {\n        return function () {\n            if (timeoutId.current !== null) {\n                clearTimeout(timeoutId.current);\n                timeoutId.current = null;\n            }\n        };\n    }, []);\n    if (!deal) {\n        return _jsx(DealNotFoundView, {});\n    }\n    if (isLoadingSourceData) {\n        return _jsx(PaymentFormSkeleton, {});\n    }\n    if (!(accounts === null || accounts === void 0 ? void 0 : accounts.length) && !isLoadingSourceData) {\n        return _jsx(PaymentAccountsNotFoundView, {});\n    }\n    var isLoaded = !isLoadingSourceData && !!(accounts === null || accounts === void 0 ? void 0 : accounts.length);\n    return (_jsx(Suspense, { fallback: _jsx(PaymentFormSkeleton, {}), children: _jsx(_Fragment, { children: isLoaded && (_jsxs(_Fragment, { children: [isIdleView && (_jsxs(Stack, { gap: 2, children: [_jsx(PaymentFormComponent, { onSubmit: handleFormSubmit, initial: initial, disabled: isLoading, loading: isLoading }), !!error && (_jsx(FormHelperText, { error: true, sx: { fontSize: '1rem' }, children: getErrorMessage(error).message }))] })), isSuccessView && _jsx(PaymnetLinkGenerationSuccess, { link: paymentLink, onClick: onGoBack })] })) }) }));\n};\nexport default PaymentForm;\n","import { isTestCurrency } from './currency';\nexport var getCurrencyLabel = function (option) {\n    return isTestCurrency(option) ? \"\".concat(option, \" (for test account)\") : option;\n};\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { useCallback } from 'react';\nimport { useAppDispatch, useAppSelector } from '../store';\nimport { paymentActions } from '../store/reducers/payment';\nimport { generatePaymentLink as generatePaymentLinkAction } from '../store/reducers/payment/async-thunks';\nimport { selectGenerateError, selectIsGenerating, selectIsGeneratingSuccess, selectPaymentLink } from '../store/reducers/payment/selectors';\nexport var usePaymentLink = function () {\n    var dispatch = useAppDispatch();\n    var paymentLink = useAppSelector(selectPaymentLink);\n    var isSuccess = useAppSelector(selectIsGeneratingSuccess);\n    var isLoading = useAppSelector(selectIsGenerating);\n    var error = useAppSelector(selectGenerateError);\n    var isError = !!error;\n    var generateLink = function (dto) { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            return [2 /*return*/, dispatch(generatePaymentLinkAction(dto))];\n        });\n    }); };\n    var reset = useCallback(function () {\n        dispatch(paymentActions.resetGeneratingRequest());\n    }, []);\n    return {\n        paymentLink: paymentLink,\n        generateLink: generateLink,\n        isLoading: isLoading,\n        error: error,\n        isError: isError,\n        isSuccess: isSuccess,\n        reset: reset,\n    };\n};\n","import { isDev, isStage } from '../../../const';\nimport { PaymentCurrencyEnum, RecieptDeliveryEnum } from '../../../models/payment';\nexport var getInitialPaymentFormState = function (deal, currencies) {\n    var _a, _b, _c, _d, _e, _f, _g;\n    if (!Array.isArray(deal === null || deal === void 0 ? void 0 : deal.contacts)) {\n        return {\n            amount: '',\n            currency: isDev || isStage ? PaymentCurrencyEnum.XTS : PaymentCurrencyEnum.UAH,\n            description: '',\n            email: '',\n            paymentAccount: { id: '', label: '' },\n            phone: '',\n            receiptDelivery: RecieptDeliveryEnum.None,\n        };\n    }\n    var contact = ((deal === null || deal === void 0 ? void 0 : deal.contacts) || [])[0];\n    var fallbackEmail = Array.isArray(contact === null || contact === void 0 ? void 0 : contact.email) ? (_a = contact.email[0]) === null || _a === void 0 ? void 0 : _a.value : '';\n    var fallbackPhone = Array.isArray(contact === null || contact === void 0 ? void 0 : contact.phone) ? (_b = contact.phone[0]) === null || _b === void 0 ? void 0 : _b.value : '';\n    var email = Array.isArray(contact === null || contact === void 0 ? void 0 : contact.email) ? (_d = (_c = contact === null || contact === void 0 ? void 0 : contact.email) === null || _c === void 0 ? void 0 : _c.find(function (emailAddress) { return !!(emailAddress === null || emailAddress === void 0 ? void 0 : emailAddress.main); })) === null || _d === void 0 ? void 0 : _d.value : fallbackEmail;\n    var phone = Array.isArray(contact === null || contact === void 0 ? void 0 : contact.phone) ? (_f = (_e = contact === null || contact === void 0 ? void 0 : contact.phone) === null || _e === void 0 ? void 0 : _e.find(function (tel) { return !!(tel === null || tel === void 0 ? void 0 : tel.main); })) === null || _f === void 0 ? void 0 : _f.value : fallbackPhone;\n    var currency = isDev || isStage ? PaymentCurrencyEnum.XTS : currencies.find(function (c) { var _a; return c === ((_a = deal === null || deal === void 0 ? void 0 : deal.amount) === null || _a === void 0 ? void 0 : _a.currency); }) || PaymentCurrencyEnum.UAH;\n    var amount = ((_g = deal === null || deal === void 0 ? void 0 : deal.amount) === null || _g === void 0 ? void 0 : _g.value) || '0.00';\n    return {\n        amount: amount,\n        email: email,\n        phone: phone,\n        currency: currency,\n        description: '',\n        paymentAccount: null,\n        receiptDelivery: RecieptDeliveryEnum.None,\n    };\n};\n","export var selectDeal = function (state) {\n    var deal = state.app.deal;\n    if (!(deal === null || deal === void 0 ? void 0 : deal.amount) && !(deal === null || deal === void 0 ? void 0 : deal.contacts) && !(deal === null || deal === void 0 ? void 0 : deal.id)) {\n        return null;\n    }\n    return deal;\n};\n","import { useDispatch, useSelector } from 'react-redux';\nimport { clearDeal, hydrateDeal } from '../store/reducers/app/actions';\nimport { selectDeal } from '../store/reducers/app/selectors';\nexport var useDeal = function () {\n    var dispatch = useDispatch();\n    var deal = useSelector(selectDeal);\n    return {\n        deal: deal,\n        hydrateDeal: function (entity) { return dispatch(hydrateDeal(entity)); },\n        clearDeal: function () { return dispatch(clearDeal()); },\n    };\n};\n","import { Fragment as _Fragment, jsx as _jsx } from \"react/jsx-runtime\";\nimport { useEffect } from 'react';\nimport { useDeal } from '../../hooks/useDeal';\nexport var AppProvider = function (_a) {\n    var children = _a.children, deal = _a.deal;\n    var _b = useDeal(), hydrateDeal = _b.hydrateDeal, clearDeal = _b.clearDeal;\n    useEffect(function () {\n        if (deal) {\n            hydrateDeal(deal);\n        }\n    }, [deal]);\n    useEffect(function () { return function () {\n        clearDeal();\n    }; }, []);\n    return _jsx(_Fragment, { children: children });\n};\n"],"names":["_rect","_path","usePaymentSourceData","_a","usePaymentAccountsList","data","isLoading","isError","error","refetch","deal","useDeal","currencies","testCurrency","PaymentCurrencyEnum","XTS","isDev","isStage","to","from","pack","arguments","length","ar","i","l","Array","prototype","slice","call","concat","__spreadArray","getCurrencyList","emails","useMemo","_b","contacts","map","contact","isArray","email","_c","id","value","label","owner","title","flat","filter","phones","phone","accounts","recieptDeliveryTransports","refetchAccounts","DealNotFoundView","t","useTranslation","_jsx","Stack","sx","height","alignItems","justifyContent","gap","px","children","Typography","variant","PaymentAccountsNotFoundView","_jsxs","maxWidth","textAlign","PaymentFormSkeleton","pt","width","mx","Grid","container","spacing","xs","index","item","Skeleton","animation","borderRadius","_extends","Object","assign","bind","n","e","r","hasOwnProperty","apply","props","xmlns","fill","stroke","strokeLinecap","strokeLinejoin","strokeWidth","viewBox","x","y","rx","ry","d","_path2","PaymnetLinkGenerationSuccess","onClick","link","useState","copied","setCopied","useNotification","errorNotification","successNotification","timeoutRef","useRef","useEffect","current","clearTimeout","component","fontSize","fontWeight","color","Box","p","href","target","rel","textDecoration","BrandButton","disabled","endIcon","CopyCheckIcon","CopyIcon","opacity","thisArg","_arguments","generator","body","f","_","sent","trys","ops","g","create","Iterator","next","verb","Symbol","iterator","this","v","op","TypeError","done","pop","push","step","__generator","navigator","clipboard","writeText","setTimeout","P","Promise","resolve","reject","fulfilled","rejected","result","then","position","mt","top","left","transform","backgroundColor","zIndex","Divider","Button","stopPropagation","borderColor","__assign","s","RenderOption","option","selected","display","flexDirection","font","RenderEmailOption","RenderPhoneOption","PaymentAmountField","getError","getTranslationKey","isDisabled","useFormContext","control","watch","currency","isReadonly","isTestCurrency","allowDigitsOnly","event","includes","key","input","currentValue","isDigit","test","isDotOrComma","separator","separatorIndex","indexOf","selectionStart","split","preventDefault","Controller","name","render","field","FormControl","fullWidth","TextInputLabel","TextInput","onKeyDown","helperText","VALID_TEST_PAYMENT_AMOUNT","toFixed","placeholder","FormHelperText","getKey","path","PaymentAccountSchema","EmailSchema","PhoneSchema","GeneratePaymentFormSchema","description","amount","isNaN","Number","paymentAccount","receiptDelivery","RecieptDeliveryEnum","PaymentFormComponent","initial","onSubmit","loading","form","useForm","defaultValues","resolver","valibotResolver","setValue","formState","isSubmitting","FormProvider","handleSubmit","values","select","MenuItem","Combobox","freeSolo","options","onInputChange","onChange","renderOption","renderInput","params","restField","getOwnPropertySymbols","propertyIsEnumerable","__rest","selectedId","find","account","transport","toLowerCase","LoadingBrandButton","type","errI18nKey","errors","message","view","setView","timeoutId","dispatch","useAppDispatch","paymentLink","useAppSelector","selectPaymentLink","isSuccess","selectIsGeneratingSuccess","selectIsGenerating","selectGenerateError","generateLink","dto","generatePaymentLinkAction","reset","useCallback","paymentActions","resetGeneratingRequest","usePaymentLink","isLoadingSourceData","_d","_e","_f","_g","UAH","None","fallbackEmail","fallbackPhone","emailAddress","main","tel","c","getInitialPaymentFormState","isIdleView","isSuccessView","onGoBack","handleFormSubmit","adaptToPaymentLinkDto","getErrorMessage","isLoaded","Suspense","fallback","_Fragment","selectDeal","state","app","useDispatch","useSelector","hydrateDeal","entity","clearDeal","AppProvider"],"sourceRoot":""}