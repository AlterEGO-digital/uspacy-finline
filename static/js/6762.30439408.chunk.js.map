{"version":3,"file":"static/js/6762.30439408.chunk.js","mappings":"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","sources":["webpack://container/./src/context/AppProvider/index.tsx","webpack://container/./src/hooks/useDeal.ts","webpack://container/./src/hooks/usePaymentSourceData.ts","webpack://container/./src/components/ui/DealNotFoundView.tsx","webpack://container/./src/components/ui/PaymentAccountsNotFoundView.tsx","webpack://container/./src/components/ui/PaymentFormSkeleton.tsx","webpack://container/./src/components/ui/PaymnetLinkGenerationSuccess.tsx","webpack://container/./src/components/ui/RenderOption.tsx","webpack://container/./src/components/PaymentForm/PaymentAmountField.tsx","webpack://container/./src/components/PaymentForm/helpers/input.ts","webpack://container/./src/components/PaymentForm/types.ts","webpack://container/./src/components/PaymentForm/index.tsx","webpack://container/./src/components/PaymentForm/helpers/labels.ts","webpack://container/./src/hooks/usePaymentLink.ts","webpack://container/./src/components/PaymentForm/helpers/formState.ts"],"sourcesContent":["import { Fragment as _Fragment, jsx as _jsx } from \"react/jsx-runtime\";\nimport { useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { appActions } from '../../store/reducers/app/slice';\nexport var AppProvider = function (_a) {\n    var children = _a.children, deal = _a.deal;\n    var dispatch = useDispatch();\n    useEffect(function () {\n        if (deal) {\n            dispatch(appActions.hydrateDeal({ deal: deal }));\n        }\n    }, [deal]);\n    useEffect(function () {\n        return function () {\n            dispatch(appActions.clearDeal());\n        };\n    }, []);\n    return _jsx(_Fragment, { children: children });\n};\n","import { useSelector } from 'react-redux';\nimport { selectDeal } from '../store/reducers/app/slice';\nexport var useDeal = function () {\n    var deal = useSelector(selectDeal);\n    return {\n        deal: deal,\n    };\n};\n","import { useMemo } from 'react';\nimport { useGetCurrencyListQuery, useGetPaymentAccountsListQuery, useGetRecieptDeliveryListQuery } from '../store/reducers/payment/api-slice';\nimport { useDeal } from './useDeal';\n// TODO: delete once BE is ready. Now it is mok data for testing\nvar a = [\n    { id: '1', label: 'Fop' },\n    { id: '2', label: 'TOB' },\n];\nexport var usePaymentSourceData = function () {\n    var _a, _b, _c;\n    var accauntPayment = useGetPaymentAccountsListQuery();\n    var currencyPayment = useGetCurrencyListQuery();\n    var recieptDelivery = useGetRecieptDeliveryListQuery();\n    var deal = useDeal().deal;\n    var isLoading = accauntPayment.isLoading ||\n        accauntPayment.isFetching ||\n        currencyPayment.isLoading ||\n        currencyPayment.isFetching ||\n        recieptDelivery.isLoading ||\n        recieptDelivery.isFetching;\n    var isError = accauntPayment.isError ||\n        accauntPayment.isError ||\n        currencyPayment.isError ||\n        currencyPayment.isError ||\n        recieptDelivery.isError ||\n        recieptDelivery.isError;\n    var error = accauntPayment.error ||\n        accauntPayment.error ||\n        currencyPayment.error ||\n        currencyPayment.error ||\n        recieptDelivery.error ||\n        recieptDelivery.error;\n    var emails = useMemo(function () {\n        var _a, _b;\n        return (_b = (_a = deal === null || deal === void 0 ? void 0 : deal.contacts) === null || _a === void 0 ? void 0 : _a.map(function (contact) { return contact.email.map(function (email) { return ({ id: email.value, label: email.value, owner: contact.title }); }); }).flat().filter(function (email) { return !!email.label; })) !== null && _b !== void 0 ? _b : [];\n    }, [deal]);\n    var phones = useMemo(function () {\n        var _a, _b;\n        return (_b = (_a = deal === null || deal === void 0 ? void 0 : deal.contacts) === null || _a === void 0 ? void 0 : _a.map(function (contact) { return ({ id: contact.phone, label: contact.phone, owner: contact.title }); }).filter(function (phone) { return !!phone.label; })) !== null && _b !== void 0 ? _b : [];\n    }, [deal]);\n    return {\n        accounts: (_a = accauntPayment.data) !== null && _a !== void 0 ? _a : a,\n        currencies: (_b = currencyPayment.data) !== null && _b !== void 0 ? _b : [],\n        recieptDeliveryTransports: (_c = recieptDelivery.data) !== null && _c !== void 0 ? _c : [],\n        emails: emails,\n        phones: phones,\n        isLoading: isLoading,\n        isError: isError,\n        error: error,\n    };\n};\n","import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Stack, Typography } from '@mui/material';\nimport { useTranslation } from 'react-i18next';\nexport var DealNotFoundView = function () {\n    var t = useTranslation('payment').t;\n    return (_jsx(Stack, { sx: { height: '400px', alignItems: 'center', justifyContent: 'center', gap: 2, px: 1 }, children: _jsx(Typography, { variant: \"h3\", children: t('payment:deal.notFound') }) }));\n};\n","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Stack, Typography } from '@mui/material';\nimport { useTranslation } from 'react-i18next';\nexport var PaymentAccountsNotFoundView = function () {\n    var t = useTranslation('payment').t;\n    return (_jsxs(Stack, { sx: { height: '400px', alignItems: 'center', justifyContent: 'center', gap: 2, px: 1 }, children: [_jsx(Typography, { variant: \"h1\", children: t('payment:views.empty.title') }), _jsx(Typography, { variant: \"body1\", sx: { maxWidth: '65ch', textAlign: 'center' }, children: t('payment:views.empty.reason') })] }));\n};\n","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Grid, Skeleton, Stack } from '@mui/material';\nexport var PaymentFormSkeleton = function () {\n    return (_jsxs(Stack, { height: \"100%\", sx: { pt: 1 }, children: [_jsx(Grid, { container: true, spacing: 1, children: [12, 8, 4, 6, 6, 8, 4].map(function (xs, index) { return (_jsx(Grid, { item: true, xs: xs, children: _jsxs(Stack, { spacing: 0.5, children: [_jsx(Skeleton, { variant: \"text\", animation: \"wave\", sx: { height: 16, width: '30%' } }), _jsx(Skeleton, { variant: \"rounded\", animation: \"wave\", sx: { height: 56, width: '100%', borderRadius: 1 } })] }) }, index)); }) }), _jsx(Stack, { pt: 3, width: \"100%\", children: _jsx(Skeleton, { variant: \"rounded\", animation: \"wave\", sx: { height: 40, width: '100%', borderRadius: 1 } }) })] }));\n};\n","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Stack, Typography } from '@mui/material';\nimport { useTranslation } from 'react-i18next';\nimport { BrandButton } from './BrandButton';\nexport var PaymnetLinkGenerationSuccess = function (_a) {\n    var onClick = _a.onClick;\n    var t = useTranslation('payment').t;\n    var handleClick = function (e) {\n        e.stopPropagation();\n        onClick();\n    };\n    return (_jsxs(Stack, { sx: { height: '400px', gap: 3, pt: 2, alignItems: 'center', justifyContent: 'center' }, children: [_jsx(Typography, { component: \"h2\", fontSize: \"2rem\", textAlign: \"center\", fontWeight: \"600\", color: \"success.main\", children: t('payment:views.success.title') }), _jsxs(\"div\", { children: [_jsx(Typography, { component: \"p\", sx: { maxWidth: '65ch', textAlign: 'center', mx: 'auto' }, children: t('payment:views.success.reason') }), _jsx(Typography, { component: \"p\", sx: { maxWidth: '65ch', textAlign: 'center', mx: 'auto' }, children: t('payment:views.success.description') })] }), _jsx(BrandButton, { onClick: handleClick, variant: \"contained\", children: t('payment:views.success.back') })] }));\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Box } from '@mui/material';\nvar RenderOption = function (props, option, _a) {\n    var selected = _a.selected;\n    return (_jsx(Box, __assign({ component: \"li\" }, props, { sx: {\n            textAlign: 'left',\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'flex-start',\n            width: '100%',\n            p: 1,\n            backgroundColor: selected ? 'background.tags' : '',\n        }, children: _jsxs(Box, { width: \"100%\", children: [_jsx(Box, { component: \"div\", sx: { font: 'medium' }, children: option.label }), _jsx(Box, { component: \"div\", color: \"text.secondary\", sx: { fontSize: '12px' }, children: option.owner })] }) })));\n};\nexport var RenderEmailOption = RenderOption;\nexport var RenderPhoneOption = RenderOption;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { FormControl, FormHelperText } from '@mui/material';\nimport { useMemo } from 'react';\nimport { Controller, useFormContext } from 'react-hook-form';\nimport { useTranslation } from 'react-i18next';\nimport { TextInput, TextInputLabel } from '../ui/Form';\nimport { isTestCurrency, VALID_TEST_PAYMENT_AMOUNT } from './helpers/currency';\nimport { createDigitsHandler } from './helpers/input';\nexport var PaymentAmountField = function (_a) {\n    var getError = _a.getError, getTranslationKey = _a.getTranslationKey, isDisabled = _a.isDisabled;\n    var _b = useFormContext(), control = _b.control, watch = _b.watch;\n    var t = useTranslation(['payment', 'validation']).t;\n    var currency = watch('currency');\n    var isReadonly = isTestCurrency(currency);\n    var allowDigitsOnly = useMemo(function () { return createDigitsHandler({ maxDecimal: 2 }); }, []);\n    return (_jsx(Controller, { name: \"amount\", control: control, render: function (_a) {\n            var field = _a.field;\n            var error = getError(field.name);\n            return (_jsxs(FormControl, { fullWidth: true, error: !!error, disabled: isReadonly || isDisabled, children: [_jsx(TextInputLabel, { children: t(getTranslationKey('labels.amount')) }), _jsx(TextInput, __assign({}, field, { onKeyDown: allowDigitsOnly, error: !!error, helperText: t(error), value: isReadonly ? VALID_TEST_PAYMENT_AMOUNT.toFixed(2) : field.value, placeholder: t(getTranslationKey('placeholders.amount')), disabled: isReadonly || isDisabled })), isReadonly && _jsx(FormHelperText, { children: t(getTranslationKey('helperText.testPayment')) })] }));\n        } }));\n};\n","export var createDigitsHandler = function (_a) {\n    var maxDecimal = _a.maxDecimal;\n    return function (event) {\n        var _a;\n        var allowedKeys = ['Backspace', 'ArrowLeft', 'ArrowRight', 'Delete', 'Tab'];\n        if (allowedKeys.includes(event.key))\n            return;\n        var input = event.target;\n        var currentValue = input.value;\n        var key = event.key;\n        var isDigit = /^\\d$/.test(key);\n        var isDotOrComma = key === '.' || key === ',';\n        var separator = currentValue.includes('.') ? '.' : currentValue.includes(',') ? ',' : null;\n        if (isDigit) {\n            if (separator) {\n                var separatorIndex = currentValue.indexOf(separator);\n                var cursorPos = (_a = input.selectionStart) !== null && _a !== void 0 ? _a : 0;\n                // Check if the cursor is after the separator\n                if (cursorPos > separatorIndex) {\n                    var decimals = currentValue.split(separator)[1] || '';\n                    if (decimals.length >= maxDecimal) {\n                        event.preventDefault();\n                        return;\n                    }\n                }\n            }\n            return;\n        }\n        if (isDotOrComma && !separator) {\n            return;\n        }\n        event.preventDefault();\n    };\n};\n","import * as v from 'valibot';\nimport { PaymentCurrencyEnum, RecieptDeliveryEnum } from '../../models/payment';\nvar t = function (key) { return key; };\nvar getKey = function (path) { return \"validation:common.\".concat(path); };\nvar PaymentAccountSchema = v.pipe(v.object({ id: v.union([v.number(), v.string()]), label: v.string() }), v.check(function (input) { return input !== null; }, t(getKey('predefined'))));\nvar EmailSchema = v.union([\n    v.pipe(v.string(t(getKey('invalidString'))), v.trim(), v.nonEmpty(t(getKey('required'))), v.email(t(getKey('invalidEmail')))),\n    v.object({\n        id: v.string(t(getKey('invalidString'))),\n        label: v.string(t(getKey('invalidString'))),\n        owner: v.string(),\n    }),\n], t(getKey('required')));\nvar PhoneSchema = v.union([\n    v.pipe(v.string(t(getKey('invalidString'))), v.trim(), v.nonEmpty(t(getKey('required')))),\n    v.object({\n        id: v.string(t(getKey('invalidString'))),\n        label: v.string(t(getKey('invalidString'))),\n        owner: v.string(),\n    }),\n], t(getKey('required')));\nexport var GeneratePaymentFormSchema = v.object({\n    description: v.pipe(v.string(t(getKey('invalidString'))), v.trim(), v.nonEmpty(t(getKey('required')))),\n    amount: v.pipe(v.string(t(getKey('invalidString'))), v.trim(), v.nonEmpty(t(getKey('required'))), v.check(function (input) { return !isNaN(Number(input)); }, function () { return t(getKey('invalidNumber')); })),\n    currency: v.enum(PaymentCurrencyEnum),\n    email: EmailSchema,\n    phone: PhoneSchema,\n    paymentAccount: PaymentAccountSchema,\n    receiptDelivery: v.enum(RecieptDeliveryEnum),\n});\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { valibotResolver } from '@hookform/resolvers/valibot';\nimport { Box, FormControl, FormHelperText, Grid, MenuItem, Stack } from '@mui/material';\nimport { Suspense, useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { Controller, FormProvider, useForm } from 'react-hook-form';\nimport { useTranslation } from 'react-i18next';\nimport { getErrorMessage } from '../../helpers/errors';\nimport { useDeal } from '../../hooks/useDeal';\nimport { useNotification } from '../../hooks/useNotification';\nimport { usePaymentLink } from '../../hooks/usePaymentLink';\nimport { usePaymentSourceData } from '../../hooks/usePaymentSourceData';\nimport { adaptToPaymentLinkDto } from '../../store/reducers/payment/mapper';\nimport { LoadingBrandButton } from '../ui/BrandButton';\nimport { DealNotFoundView } from '../ui/DealNotFoundView';\nimport { Combobox, TextInput, TextInputLabel } from '../ui/Form';\nimport { PaymentAccountsNotFoundView } from '../ui/PaymentAccountsNotFoundView';\nimport { PaymentFormSkeleton } from '../ui/PaymentFormSkeleton';\nimport { PaymnetLinkGenerationSuccess } from '../ui/PaymnetLinkGenerationSuccess';\nimport { RenderEmailOption, RenderPhoneOption } from '../ui/RenderOption';\nimport { getInitialPaymentFormState } from './helpers/formState';\nimport { getCurrencyLabel } from './helpers/labels';\nimport { PaymentAmountField } from './PaymentAmountField';\nimport { GeneratePaymentFormSchema } from './types';\nexport var PaymentFormComponent = function (_a) {\n    var initial = _a.initial, onSubmit = _a.onSubmit, disabled = _a.disabled, _b = _a.loading, loading = _b === void 0 ? false : _b;\n    var form = useForm({ defaultValues: initial, resolver: valibotResolver(GeneratePaymentFormSchema) });\n    var _c = usePaymentSourceData(), accounts = _c.accounts, currencies = _c.currencies, recieptDeliveryTransports = _c.recieptDeliveryTransports, emails = _c.emails, phones = _c.phones;\n    var t = useTranslation(['payment', 'validation']).t;\n    useEffect(function () {\n        if (accounts.length) {\n            form.setValue('paymentAccount', accounts[0]);\n        }\n    }, [accounts]);\n    var isDisabled = form.formState.isSubmitting || disabled;\n    return (_jsx(FormProvider, __assign({}, form, { children: _jsxs(Box, { component: \"form\", sx: { pt: 4, px: 1 }, onSubmit: form.handleSubmit(function (values) {\n                onSubmit(values);\n            }), children: [_jsxs(Grid, { container: true, spacing: 4, children: [_jsx(Grid, { item: true, xs: 12, children: _jsx(Controller, { name: \"description\", control: form.control, render: function (_a) {\n                                    var field = _a.field;\n                                    var error = getError(field.name);\n                                    return (_jsxs(FormControl, { fullWidth: true, error: !!error, disabled: isDisabled, children: [_jsx(TextInputLabel, { children: t(getKey('labels.description')) }), _jsx(TextInput, __assign({}, field, { error: !!error, helperText: t(error), placeholder: t(getKey('placeholders.description')), disabled: isDisabled }))] }));\n                                } }) }), _jsx(Grid, { item: true, xs: 8, children: _jsx(PaymentAmountField, { isDisabled: isDisabled, getError: getError, getTranslationKey: getKey }) }), _jsx(Grid, { item: true, xs: 4, children: _jsx(Controller, { name: \"currency\", control: form.control, render: function (_a) {\n                                    var field = _a.field;\n                                    var error = getError(field.name);\n                                    return (_jsxs(FormControl, { fullWidth: true, error: !!error, disabled: isDisabled, children: [_jsx(TextInputLabel, { children: t(getKey('labels.currency')) }), _jsx(TextInput, __assign({}, field, { select: true, error: !!error, helperText: t(error), id: \"currency\", placeholder: t(getKey('placeholders.currency')), disabled: isDisabled, children: currencies === null || currencies === void 0 ? void 0 : currencies.map(function (currency) {\n                                                    return (_jsx(MenuItem, { value: currency, children: getCurrencyLabel(currency) }, currency));\n                                                }) }))] }));\n                                } }) }), _jsx(Grid, { item: true, xs: 6, children: _jsx(Controller, { name: \"email\", control: form.control, render: function (_a) {\n                                    var field = _a.field;\n                                    var error = getError(field.name);\n                                    return (_jsxs(FormControl, { fullWidth: true, error: !!error, disabled: isDisabled, children: [_jsx(TextInputLabel, { children: t(getKey('labels.email')) }), _jsx(Combobox, __assign({}, field, { freeSolo: true, options: emails, disabled: isDisabled, onInputChange: function (_, data) {\n                                                    field.onChange(data);\n                                                }, onChange: function (_, value) {\n                                                    field.onChange(value);\n                                                }, renderOption: RenderEmailOption, renderInput: function (params) { return (_jsx(TextInput, __assign({}, params, { error: !!error, helperText: t(error), placeholder: t(getKey('placeholders.email')), disabled: isDisabled }))); } }))] }));\n                                } }) }), _jsx(Grid, { item: true, xs: 6, children: _jsx(Controller, { name: \"phone\", control: form.control, render: function (_a) {\n                                    var field = _a.field;\n                                    var error = getError(field.name);\n                                    return (_jsxs(FormControl, { fullWidth: true, error: !!error, disabled: isDisabled, children: [_jsx(TextInputLabel, { children: t(getKey('labels.phone')) }), _jsx(Combobox, __assign({}, field, { freeSolo: true, options: phones, disabled: isDisabled, onInputChange: function (_, data) {\n                                                    field.onChange(data);\n                                                }, onChange: function (_, value) {\n                                                    field.onChange(value);\n                                                }, renderOption: RenderPhoneOption, renderInput: function (params) { return (_jsx(TextInput, __assign({}, params, { error: !!error, helperText: t(error), placeholder: t(getKey('placeholders.phone')), disabled: isDisabled }))); } }))] }));\n                                } }) }), _jsx(Grid, { item: true, xs: 8, children: _jsx(Controller, { name: \"paymentAccount\", control: form.control, render: function (_a) {\n                                    var _b = _a.field, value = _b.value, onChange = _b.onChange, restField = __rest(_b, [\"value\", \"onChange\"]);\n                                    var error = getError(restField.name);\n                                    return (_jsxs(FormControl, { fullWidth: true, error: !!error, disabled: isDisabled, children: [_jsx(TextInputLabel, { children: t(getKey('labels.paymentAccount')) }), _jsx(TextInput, __assign({}, restField, { select: true, value: (value === null || value === void 0 ? void 0 : value.id) || '', onChange: function (e) {\n                                                    var selectedId = e.target.value;\n                                                    var selected = accounts === null || accounts === void 0 ? void 0 : accounts.find(function (account) { return account.id === selectedId; });\n                                                    onChange(selected || null);\n                                                }, error: !!error, helperText: t(error), id: \"currency\", placeholder: t(getKey('placeholders.paymentAccount')), disabled: isDisabled, children: accounts === null || accounts === void 0 ? void 0 : accounts.map(function (account) {\n                                                    return (_jsx(MenuItem, { value: account.id, children: account.label }, account.id));\n                                                }) }))] }));\n                                } }) }), _jsx(Grid, { item: true, xs: 4, children: _jsx(Controller, { name: \"receiptDelivery\", control: form.control, render: function (_a) {\n                                    var field = _a.field;\n                                    var error = getError(field.name);\n                                    return (_jsxs(FormControl, { fullWidth: true, error: !!error, disabled: isDisabled, children: [_jsx(TextInputLabel, { children: t(getKey('labels.receiptDelivery')) }), _jsx(TextInput, __assign({}, field, { select: true, error: !!error, helperText: t(error), placeholder: t(getKey('placeholders.receiptDelivery')), disabled: isDisabled, children: recieptDeliveryTransports === null || recieptDeliveryTransports === void 0 ? void 0 : recieptDeliveryTransports.map(function (transport) {\n                                                    return (_jsx(MenuItem, { value: transport, children: t(getKey(\"predefined.receiptDelivery.\".concat(transport.toLowerCase()))) }, transport));\n                                                }) }))] }));\n                                } }) })] }), _jsx(Stack, { pt: 3, flexDirection: \"row\", justifyContent: \"center\", children: _jsx(LoadingBrandButton, { fullWidth: true, loading: loading, type: \"submit\", variant: \"contained\", disabled: isDisabled, children: t(getKey('submit')) }) })] }) })));\n    function getError(name) {\n        var _a, _b;\n        var errI18nKey = ((_b = (_a = form.formState.errors[name]) === null || _a === void 0 ? void 0 : _a.message) !== null && _b !== void 0 ? _b : '');\n        if (!errI18nKey)\n            return '';\n        return t(errI18nKey);\n    }\n    function getKey(path) {\n        return \"payment:paymentForm.\".concat(path);\n    }\n};\nvar CLEAR_ERRORS_IN = 3000;\nvar PaymentForm = function () {\n    var _a = useState('idle'), view = _a[0], setView = _a[1];\n    var timeoutId = useRef(null);\n    var deal = useDeal().deal;\n    var _b = usePaymentLink(), generateLink = _b.generateLink, isLoading = _b.isLoading, error = _b.error, isSuccess = _b.isSuccess, reset = _b.reset;\n    var _c = usePaymentSourceData(), accounts = _c.accounts, currencies = _c.currencies, isLoadingSourceData = _c.isLoading;\n    var _d = useNotification(), errorNotification = _d.errorNotification, successNotification = _d.successNotification;\n    var initial = useMemo(function () { return getInitialPaymentFormState(deal, currencies); }, [deal, currencies]);\n    var isIdleView = view === 'idle';\n    var isSuccessView = view === 'success';\n    var onGoBack = useCallback(function () { return setView('idle'); }, []);\n    var handleFormSubmit = useCallback(function (values) { return __awaiter(void 0, void 0, void 0, function () {\n        var dto;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    dto = adaptToPaymentLinkDto(values, deal.id);\n                    return [4 /*yield*/, generateLink(dto)];\n                case 1:\n                    _a.sent();\n                    return [2 /*return*/];\n            }\n        });\n    }); }, [deal]);\n    useEffect(function () {\n        if (error) {\n            errorNotification(getErrorMessage(error));\n            timeoutId.current = setTimeout(function () {\n                reset();\n                timeoutId.current = null;\n            }, CLEAR_ERRORS_IN);\n        }\n    }, [error]);\n    useEffect(function () {\n        if (isSuccess) {\n            successNotification();\n            setView('success');\n        }\n    }, [isSuccess]);\n    useEffect(function () {\n        return function () {\n            if (timeoutId.current !== null) {\n                clearTimeout(timeoutId.current);\n                timeoutId.current = null;\n            }\n        };\n    }, []);\n    if (!deal) {\n        return _jsx(DealNotFoundView, {});\n    }\n    if (isLoadingSourceData) {\n        return _jsx(PaymentFormSkeleton, {});\n    }\n    if (!(accounts === null || accounts === void 0 ? void 0 : accounts.length) && !isLoadingSourceData) {\n        return _jsx(PaymentAccountsNotFoundView, {});\n    }\n    return (_jsxs(Suspense, { fallback: _jsx(PaymentFormSkeleton, {}), children: [isIdleView && (_jsxs(Stack, { gap: 2, children: [_jsx(PaymentFormComponent, { onSubmit: handleFormSubmit, initial: initial, disabled: isLoading, loading: isLoading }), !!error && (_jsx(FormHelperText, { error: true, sx: { fontSize: '1rem' }, children: getErrorMessage(error) }))] })), isSuccessView && _jsx(PaymnetLinkGenerationSuccess, { onClick: onGoBack })] }));\n};\nexport default PaymentForm;\n","import { isTestCurrency } from './currency';\nexport var getCurrencyLabel = function (option) {\n    return isTestCurrency(option) ? \"\".concat(option, \" (for test account)\") : option;\n};\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { useGeneratePaymentLinkMutation } from '../store/reducers/payment/api-slice';\nexport var usePaymentLink = function () {\n    var _a = useGeneratePaymentLinkMutation(), generateLinkAsync = _a[0], _b = _a[1], data = _b.data, isLoading = _b.isLoading, error = _b.error, isError = _b.isError, isSuccess = _b.isSuccess, reset = _b.reset;\n    var generateLink = function (dto) { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, generateLinkAsync(dto)];\n                case 1: return [2 /*return*/, _a.sent()];\n            }\n        });\n    }); };\n    return {\n        generateLink: generateLink,\n        isLoading: isLoading,\n        error: error,\n        isError: isError,\n        isSuccess: isSuccess,\n        data: data,\n        reset: reset,\n    };\n};\n","import { isDev, isStage } from '../../../const';\nimport { PaymentCurrencyEnum, RecieptDeliveryEnum } from '../../../models/payment';\nexport var getInitialPaymentFormState = function (deal, currencies) {\n    var _a, _b, _c, _d, _e;\n    var contact = ((deal === null || deal === void 0 ? void 0 : deal.contacts) || [])[0];\n    var fallbackEmail = ((_a = contact === null || contact === void 0 ? void 0 : contact.email) !== null && _a !== void 0 ? _a : [])[0];\n    var email = ((_b = contact === null || contact === void 0 ? void 0 : contact.email) === null || _b === void 0 ? void 0 : _b.find(function (emailAddress) { return !!emailAddress.main; })) || fallbackEmail;\n    var currency = isDev || isStage ? PaymentCurrencyEnum.XTS : currencies.find(function (c) { var _a; return c === ((_a = deal === null || deal === void 0 ? void 0 : deal.amount) === null || _a === void 0 ? void 0 : _a.currency); }) || PaymentCurrencyEnum.UAH;\n    var amount = ((_c = deal === null || deal === void 0 ? void 0 : deal.amount) === null || _c === void 0 ? void 0 : _c.value) || '0.00';\n    return {\n        amount: amount,\n        currency: currency,\n        description: '',\n        email: (_d = email === null || email === void 0 ? void 0 : email.value) !== null && _d !== void 0 ? _d : '',\n        paymentAccount: null,\n        phone: (_e = contact === null || contact === void 0 ? void 0 : contact.phone) !== null && _e !== void 0 ? _e : '',\n        receiptDelivery: RecieptDeliveryEnum.None,\n    };\n};\n"],"names":["AppProvider","_a","children","deal","dispatch","useDispatch","useEffect","appActions","hydrateDeal","clearDeal","_jsx","_Fragment","useDeal","useSelector","selectDeal","a","id","label","usePaymentSourceData","_b","_c","accauntPayment","useGetPaymentAccountsListQuery","currencyPayment","useGetCurrencyListQuery","recieptDelivery","useGetRecieptDeliveryListQuery","isLoading","isFetching","isError","error","emails","useMemo","contacts","map","contact","email","value","owner","title","flat","filter","phones","phone","accounts","data","currencies","recieptDeliveryTransports","DealNotFoundView","t","useTranslation","Stack","sx","height","alignItems","justifyContent","gap","px","Typography","variant","PaymentAccountsNotFoundView","_jsxs","maxWidth","textAlign","PaymentFormSkeleton","pt","Grid","container","spacing","xs","index","item","Skeleton","animation","width","borderRadius","PaymnetLinkGenerationSuccess","onClick","component","fontSize","fontWeight","color","mx","BrandButton","e","stopPropagation","__assign","Object","assign","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","RenderOption","props","option","selected","Box","display","flexDirection","backgroundColor","font","RenderEmailOption","RenderPhoneOption","PaymentAmountField","getError","getTranslationKey","isDisabled","useFormContext","control","watch","currency","isReadonly","isTestCurrency","allowDigitsOnly","event","includes","key","input","target","currentValue","isDigit","test","isDotOrComma","separator","separatorIndex","indexOf","selectionStart","split","preventDefault","Controller","name","render","field","FormControl","fullWidth","disabled","TextInputLabel","TextInput","onKeyDown","helperText","VALID_TEST_PAYMENT_AMOUNT","toFixed","placeholder","FormHelperText","getKey","path","concat","PaymentAccountSchema","v","EmailSchema","PhoneSchema","GeneratePaymentFormSchema","description","amount","isNaN","Number","PaymentCurrencyEnum","paymentAccount","receiptDelivery","RecieptDeliveryEnum","PaymentFormComponent","initial","onSubmit","loading","form","useForm","defaultValues","resolver","valibotResolver","setValue","formState","isSubmitting","FormProvider","handleSubmit","values","select","MenuItem","Combobox","freeSolo","options","onInputChange","_","onChange","renderOption","renderInput","params","restField","getOwnPropertySymbols","propertyIsEnumerable","__rest","selectedId","find","account","transport","toLowerCase","LoadingBrandButton","type","errI18nKey","errors","message","useState","view","setView","timeoutId","useRef","useGeneratePaymentLinkMutation","generateLinkAsync","generateLink","dto","thisArg","_arguments","generator","body","f","y","sent","trys","ops","g","create","Iterator","next","verb","Symbol","iterator","op","TypeError","done","pop","push","step","__generator","P","Promise","resolve","reject","fulfilled","rejected","result","then","isSuccess","reset","usePaymentLink","isLoadingSourceData","_d","useNotification","errorNotification","successNotification","_e","fallbackEmail","emailAddress","main","isDev","isStage","XTS","c","UAH","None","getInitialPaymentFormState","isIdleView","isSuccessView","onGoBack","useCallback","handleFormSubmit","adaptToPaymentLinkDto","getErrorMessage","current","setTimeout","clearTimeout","Suspense","fallback"],"sourceRoot":""}